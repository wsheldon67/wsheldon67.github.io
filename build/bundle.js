var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function o(e){e.forEach(t)}function r(e){return"function"==typeof e}function c(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function l(e,t){e.appendChild(t)}function a(e,t,n){e.insertBefore(t,n||null)}function i(e){e.parentNode.removeChild(e)}function s(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function u(e){return document.createElement(e)}function f(e){return document.createTextNode(e)}function d(){return f(" ")}function m(){return f("")}function h(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function p(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function g(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function v(e,t){e.value=null==t?"":t}let w;function $(e){w=e}function b(){if(!w)throw new Error("Function called outside component initialization");return w}const k=[],_=[],y=[],x=[],C=Promise.resolve();let E=!1;function N(e){y.push(e)}const S=new Set;let z=0;function L(){const e=w;do{for(;z<k.length;){const e=k[z];z++,$(e),j(e.$$)}for($(null),k.length=0,z=0;_.length;)_.pop()();for(let e=0;e<y.length;e+=1){const t=y[e];S.has(t)||(S.add(t),t())}y.length=0}while(k.length);for(;x.length;)x.pop()();E=!1,S.clear(),$(e)}function j(e){if(null!==e.fragment){e.update(),o(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(N)}}const T=new Set;let A;function I(){A={r:0,c:[],p:A}}function O(){A.r||o(A.c),A=A.p}function D(e,t){e&&e.i&&(T.delete(e),e.i(t))}function J(e,t,n,o){if(e&&e.o){if(T.has(e))return;T.add(e),A.c.push((()=>{T.delete(e),o&&(n&&e.d(1),o())})),e.o(t)}}function M(e,t){const n=t.token={};function o(e,o,r,c){if(t.token!==n)return;t.resolved=c;let l=t.ctx;void 0!==r&&(l=l.slice(),l[r]=c);const a=e&&(t.current=e)(l);let i=!1;t.block&&(t.blocks?t.blocks.forEach(((e,n)=>{n!==o&&e&&(I(),J(e,1,1,(()=>{t.blocks[n]===e&&(t.blocks[n]=null)})),O())})):t.block.d(1),a.c(),D(a,1),a.m(t.mount(),t.anchor),i=!0),t.block=a,t.blocks&&(t.blocks[o]=a),i&&L()}if((r=e)&&"object"==typeof r&&"function"==typeof r.then){const n=b();if(e.then((e=>{$(n),o(t.then,1,t.value,e),$(null)}),(e=>{if($(n),o(t.catch,2,t.error,e),$(null),!t.hasCatch)throw e})),t.current!==t.pending)return o(t.pending,0),!0}else{if(t.current!==t.then)return o(t.then,1,t.value,e),!0;t.resolved=e}var r}function P(e,n,c,l){const{fragment:a,on_mount:i,on_destroy:s,after_update:u}=e.$$;a&&a.m(n,c),l||N((()=>{const n=i.map(t).filter(r);s?s.push(...n):o(n),e.$$.on_mount=[]})),u.forEach(N)}function R(e,t){const n=e.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function W(e,t){-1===e.$$.dirty[0]&&(k.push(e),E||(E=!0,C.then(L)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function q(t,r,c,l,a,s,u,f=[-1]){const d=w;$(t);const m=t.$$={fragment:null,ctx:null,props:s,update:e,not_equal:a,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(r.context||(d?d.$$.context:[])),callbacks:n(),dirty:f,skip_bound:!1,root:r.target||d.$$.root};u&&u(m.root);let h=!1;if(m.ctx=c?c(t,r.props||{},((e,n,...o)=>{const r=o.length?o[0]:n;return m.ctx&&a(m.ctx[e],m.ctx[e]=r)&&(!m.skip_bound&&m.bound[e]&&m.bound[e](r),h&&W(t,e)),n})):[],m.update(),h=!0,o(m.before_update),m.fragment=!!l&&l(m.ctx),r.target){if(r.hydrate){const e=function(e){return Array.from(e.childNodes)}(r.target);m.fragment&&m.fragment.l(e),e.forEach(i)}else m.fragment&&m.fragment.c();r.intro&&D(t.$$.fragment),P(t,r.target,r.anchor,r.customElement),L()}$(d)}class B{$destroy(){R(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const H=["the","to","a","and","in","of","are","or","is","for","be","on","was","with","by","as","at","it","has","an","has","its","from","but","have","that","can","also","this","were","had","which","would","after","year","'s"];function F(e,t,n){const o=e.slice();return o[17]=t[n][0],o[19]=n,o}function G(t){return{c:e,m:e,p:e,d:e}}function V(e){let t,n=e[16],o=[];for(let t=0;t<n.length;t+=1)o[t]=Q(F(e,n,t));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=m()},m(e,n){for(let t=0;t<o.length;t+=1)o[t].m(e,n);a(e,t,n)},p(e,r){if(385&r){let c;for(n=e[16],c=0;c<n.length;c+=1){const l=F(e,n,c);o[c]?o[c].p(l,r):(o[c]=Q(l),o[c].c(),o[c].m(t.parentNode,t))}for(;c<o.length;c+=1)o[c].d(1);o.length=n.length}},d(e){s(o,e),e&&i(t)}}}function Y(e){let t,n,o;function r(){return e[12](e[17])}return{c(){t=u("button"),t.textContent="Reveal\r\n    "},m(e,c){a(e,t,c),n||(o=h(t,"click",r),n=!0)},p(t,n){e=t},d(e){e&&i(t),n=!1,o()}}}function K(e){let t,n,o=e[17]+"";return{c(){t=u("p"),n=f(o)},m(e,o){a(e,t,o),l(t,n)},p(e,t){128&t&&o!==(o=e[17]+"")&&g(n,o)},d(e){e&&i(t)}}}function Q(e){let t,n,o,r,c,s=e[19]+1+"";function h(e,t){return 129&t&&(r=null),null==r&&(r=!!e[0].includes(e[17])),r?K:Y}let p=h(e,-1),g=p(e);return{c(){t=u("p"),n=f(s),o=d(),g.c(),c=m()},m(e,r){a(e,t,r),l(t,n),a(e,o,r),g.m(e,r),a(e,c,r)},p(e,t){p===(p=h(e,t))&&g?g.p(e,t):(g.d(1),g=p(e),g&&(g.c(),g.m(c.parentNode,c)))},d(e){e&&i(t),e&&i(o),g.d(e),e&&i(c)}}}function U(t){let n;return{c(){n=f("Loading...")},m(e,t){a(e,n,t)},p:e,d(e){e&&i(n)}}}function X(e){let t,n,o,r,c,s,m,v,w,$,b,k,_,y,x,C,E,N,S=e[0].length+"";return{c(){t=u("div"),n=u("h1"),n.textContent="Congratulations!",o=d(),r=u("p"),c=u("a"),s=f(e[3]),v=f("\r\n  was the correct answer."),w=d(),$=u("p"),b=f("It took you "),k=f(S),_=f(" reveals to get the answer."),y=d(),x=u("p"),C=u("button"),C.textContent="Close",p(c,"href",m=`https://en.wikipedia.org/wiki/${e[1].name}`),p(c,"target","_blank"),p(t,"class","win")},m(i,u){a(i,t,u),l(t,n),l(t,o),l(t,r),l(r,c),l(c,s),l(r,v),l(t,w),l(t,$),l($,b),l($,k),l($,_),l(t,y),l(t,x),l(x,C),E||(N=h(C,"click",e[13]),E=!0)},p(e,t){8&t&&g(s,e[3]),2&t&&m!==(m=`https://en.wikipedia.org/wiki/${e[1].name}`)&&p(c,"href",m),1&t&&S!==(S=e[0].length+"")&&g(k,S)},d(e){e&&i(t),E=!1,N()}}}function Z(t){let n,r,c,s,w,$,b,k,_,y,x,C,E,N=t[0].length+"",S={ctx:t,current:null,token:null,hasCatch:!1,pending:U,then:V,catch:G,value:16};M(_=t[7],S);let z=t[4]&&X(t);return{c(){n=u("form"),r=u("input"),c=d(),s=u("p"),w=f("Words Revealed: "),$=f(N),b=d(),k=u("div"),S.block.c(),y=d(),z&&z.c(),x=m(),p(r,"type","text"),p(r,"placeholder",t[6]),r.disabled=t[5],p(n,"class","guesser"),p(k,"class","cont")},m(e,o){var i;a(e,n,o),l(n,r),v(r,t[2]),l(n,c),l(n,s),l(s,w),l(s,$),a(e,b,o),a(e,k,o),S.block.m(k,S.anchor=null),S.mount=()=>k,S.anchor=null,a(e,y,o),z&&z.m(e,o),a(e,x,o),C||(E=[h(r,"input",t[11]),h(n,"submit",(i=t[9],function(e){return e.preventDefault(),i.call(this,e)}))],C=!0)},p(e,[n]){t=e,64&n&&p(r,"placeholder",t[6]),32&n&&(r.disabled=t[5]),4&n&&r.value!==t[2]&&v(r,t[2]),1&n&&N!==(N=t[0].length+"")&&g($,N),S.ctx=t,128&n&&_!==(_=t[7])&&M(_,S)||function(e,t,n){const o=t.slice(),{resolved:r}=e;e.current===e.then&&(o[e.value]=r),e.current===e.catch&&(o[e.error]=r),e.block.p(o,n)}(S,t,n),t[4]?z?z.p(t,n):(z=X(t),z.c(),z.m(x.parentNode,x)):z&&(z.d(1),z=null)},i:e,o:e,d(e){e&&i(n),e&&i(b),e&&i(k),S.block.d(),S.token=null,S=null,e&&i(y),z&&z.d(e),e&&i(x),C=!1,o(E)}}}function ee(e,t,n){let o,r,c,{title:l}=t,{revealed_list:a}=t,i="",s="",u=!1,f=!1;async function d(e){console.log("loading",e);const t=await async function(e){const t=`https://en.wikipedia.org/w/api.php?action=query&prop=extracts&titles=${e}&explaintext=1&formatversion=2&exsectionformat=plain&format=json&origin=*`,n=await fetch(t);if(!n.ok)throw Error(n.statusText);return(await n.json()).query.pages[0]}(e);n(3,s=t.title);const o=function(e,t){let n;return t.split(" ").forEach((t=>{const o=new RegExp(t,"g");n=e.replace(o,"")})),n.match(/(\w|')+/g)}(t.extract,s),r=function(e){return e.reduce(((e,t)=>e.set(t.toLowerCase(),(e.get(t.toLowerCase())||0)+1)),new Map)}(o),c=[...r.entries()],a=c.filter((e=>![...l.answers,...l.remove,...H].includes(e[0])));let i;return i=c.length>500?a.slice(0,500):a,i.sort(((e,t)=>t[1]-e[1])),i}function m(e){n(0,a=[...a,e]),localStorage.setItem("revealed_list",JSON.stringify(a)),n(10,f=!0)}return e.$$set=e=>{"title"in e&&n(1,l=e.title),"revealed_list"in e&&n(0,a=e.revealed_list)},e.$$.update=()=>{2&e.$$.dirty&&n(7,o=d(l.name)),1024&e.$$.dirty&&n(6,r=f?"Make a Guess":"Reveal a Word"),1024&e.$$.dirty&&n(5,c=!f)},[a,l,i,s,u,c,r,o,m,function(){i.toLowerCase()===s.toLowerCase()?n(4,u=!0):l.answers.includes(i.toLowerCase())&&n(2,i=""),n(10,f=!1)},f,function(){i=this.value,n(2,i)},e=>{m(e)},()=>{n(4,u=!1)}]}class te extends B{constructor(e){super(),q(this,e,ee,Z,c,{title:1,revealed_list:0})}}const ne=[{name:"Pet_door",answers:[],remove:[]},{name:"Valencia",answers:[],remove:["val","ncia","c","f","1","2"]},{name:"Adolf_Hitler",answers:[],remove:[]},{name:"Harry_Styles",answers:[],remove:[]},{name:"Donald_Trump",answers:[],remove:[]},{name:"Colorado",answers:[],remove:[]},{name:"Tornado",answers:[],remove:[]},{name:"Nebraska",answers:[],remove:[]},{name:"Yahtzee",answers:["yatzee"],remove:[]},{name:"Joan_of_Arc",answers:[],remove:["joan","joan's"]},{name:"Turtle",answers:[],remove:["turtles","turtle"]},{name:"Ludwig_van_Beethoven",answers:["Beethoven"],remove:[]},{name:"Polio",answers:[],remove:["polio","poliovirus"]},{name:"Africa",answers:[],remove:["n","000","1"]},{name:"Whale_shark",answers:[],remove:["whale","s","m"]},{name:"SeaWorld",answers:["sea world"],remove:["sea","world"]},{name:"Chicken",answers:[],remove:["s","chickens","chicken"]},{name:"Jupiter",answers:[],remove:["000"]}];function oe(e){return console.log(e),ne[e]}function re(e,t,n){const o=e.slice();return o[9]=t[n],o[11]=n,o}function ce(e){let t,n,o,r,c,l;return o=new te({props:{title:e[1],revealed_list:e[2]}}),{c(){var e;t=u("button"),t.textContent="Change Puzzle",n=d(),(e=o.$$.fragment)&&e.c()},m(i,s){a(i,t,s),a(i,n,s),P(o,i,s),r=!0,c||(l=h(t,"click",e[6]),c=!0)},p(e,t){const n={};2&t&&(n.title=e[1]),4&t&&(n.revealed_list=e[2]),o.$set(n)},i(e){r||(D(o.$$.fragment,e),r=!0)},o(e){J(o.$$.fragment,e),r=!1},d(e){e&&i(t),e&&i(n),R(o,e),c=!1,l()}}}function le(t){let n,o=t[3],r=[];for(let e=0;e<o.length;e+=1)r[e]=ae(re(t,o,e));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();n=m()},m(e,t){for(let n=0;n<r.length;n+=1)r[n].m(e,t);a(e,n,t)},p(e,t){if(24&t){let c;for(o=e[3],c=0;c<o.length;c+=1){const l=re(e,o,c);r[c]?r[c].p(l,t):(r[c]=ae(l),r[c].c(),r[c].m(n.parentNode,n))}for(;c<r.length;c+=1)r[c].d(1);r.length=o.length}},i:e,o:e,d(e){s(r,e),e&&i(n)}}}function ae(e){let t,n,o,r,c,s=e[3].length-e[11]+"";function m(){return e[5](e[11])}return{c(){t=u("button"),n=f(s),o=d()},m(e,i){a(e,t,i),l(t,n),l(t,o),r||(c=h(t,"click",m),r=!0)},p(t,n){e=t},d(e){e&&i(t),r=!1,c()}}}function ie(e){let t,n,o,r;const c=[le,ce],l=[];function s(e,t){return e[0]?0:1}return t=s(e),n=l[t]=c[t](e),{c(){n.c(),o=m()},m(e,n){l[t].m(e,n),a(e,o,n),r=!0},p(e,[r]){let a=t;t=s(e),t===a?l[t].p(e,r):(I(),J(l[a],1,1,(()=>{l[a]=null})),O(),n=l[t],n?n.p(e,r):(n=l[t]=c[t](e),n.c()),D(n,1),n.m(o.parentNode,o))},i(e){r||(D(n),r=!0)},o(e){J(n),r=!1},d(e){l[t].d(e),e&&i(o)}}}function se(e,t,n){let o=!1;const r=new Date("2022-05-15"),c=Math.floor(((new Date).getTime()-r.getTime())/864e5);let l=oe(Number(localStorage.getItem("puzzle_number")))||oe(c),a=JSON.parse(localStorage.getItem("revealed_list"))||[],i=ne.slice(0,c+1);function s(e,t){localStorage.setItem("puzzle_number",t.toString()),localStorage.removeItem("revealed_list"),n(1,l=e),n(2,a=[]),n(0,o=!1)}window.change_puzzle=function(e){s(ne[e],e)};return[o,l,a,i,s,e=>{s(i[i.length-e-1],i.length-e-1)},()=>{n(0,o=!0)}]}return new class extends B{constructor(e){super(),q(this,e,se,ie,c,{})}}({target:document.body,props:{}})}();
//# sourceMappingURL=bundle.js.map
