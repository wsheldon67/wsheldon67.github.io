var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function o(e){e.forEach(t)}function r(e){return"function"==typeof e}function s(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function a(e,t){e.appendChild(t)}function l(e,t,n){e.insertBefore(t,n||null)}function i(e){e.parentNode.removeChild(e)}function c(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function u(e){return document.createElement(e)}function m(e){return document.createTextNode(e)}function d(){return m(" ")}function f(){return m("")}function p(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function h(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function g(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function w(e,t){e.value=null==t?"":t}function v(e,t,n){e.classList[n?"add":"remove"](t)}let _;function $(e){_=e}function b(){if(!_)throw new Error("Function called outside component initialization");return _}const y=[],k=[],z=[],x=[],C=Promise.resolve();let S=!1;function N(e){z.push(e)}function T(e){x.push(e)}const E=new Set;let A=0;function L(){const e=_;do{for(;A<y.length;){const e=y[A];A++,$(e),j(e.$$)}for($(null),y.length=0,A=0;k.length;)k.pop()();for(let e=0;e<z.length;e+=1){const t=z[e];E.has(t)||(E.add(t),t())}z.length=0}while(y.length);for(;x.length;)x.pop()();S=!1,E.clear(),$(e)}function j(e){if(null!==e.fragment){e.update(),o(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(N)}}const M=new Set;let P;function I(){P={r:0,c:[],p:P}}function q(){P.r||o(P.c),P=P.p}function W(e,t){e&&e.i&&(M.delete(e),e.i(t))}function B(e,t,n,o){if(e&&e.o){if(M.has(e))return;M.add(e),P.c.push((()=>{M.delete(e),o&&(n&&e.d(1),o())})),e.o(t)}}function D(e,t){const n=t.token={};function o(e,o,r,s){if(t.token!==n)return;t.resolved=s;let a=t.ctx;void 0!==r&&(a=a.slice(),a[r]=s);const l=e&&(t.current=e)(a);let i=!1;t.block&&(t.blocks?t.blocks.forEach(((e,n)=>{n!==o&&e&&(I(),B(e,1,1,(()=>{t.blocks[n]===e&&(t.blocks[n]=null)})),q())})):t.block.d(1),l.c(),W(l,1),l.m(t.mount(),t.anchor),i=!0),t.block=l,t.blocks&&(t.blocks[o]=l),i&&L()}if((r=e)&&"object"==typeof r&&"function"==typeof r.then){const n=b();if(e.then((e=>{$(n),o(t.then,1,t.value,e),$(null)}),(e=>{if($(n),o(t.catch,2,t.error,e),$(null),!t.hasCatch)throw e})),t.current!==t.pending)return o(t.pending,0),!0}else{if(t.current!==t.then)return o(t.then,1,t.value,e),!0;t.resolved=e}var r}function O(e,t,n){const o=e.$$.props[t];void 0!==o&&(e.$$.bound[o]=n,n(e.$$.ctx[o]))}function G(e){e&&e.c()}function J(e,n,s,a){const{fragment:l,on_mount:i,on_destroy:c,after_update:u}=e.$$;l&&l.m(n,s),a||N((()=>{const n=i.map(t).filter(r);c?c.push(...n):o(n),e.$$.on_mount=[]})),u.forEach(N)}function R(e,t){const n=e.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function H(e,t){-1===e.$$.dirty[0]&&(y.push(e),S||(S=!0,C.then(L)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function F(t,r,s,a,l,c,u,m=[-1]){const d=_;$(t);const f=t.$$={fragment:null,ctx:null,props:c,update:e,not_equal:l,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(r.context||(d?d.$$.context:[])),callbacks:n(),dirty:m,skip_bound:!1,root:r.target||d.$$.root};u&&u(f.root);let p=!1;if(f.ctx=s?s(t,r.props||{},((e,n,...o)=>{const r=o.length?o[0]:n;return f.ctx&&l(f.ctx[e],f.ctx[e]=r)&&(!f.skip_bound&&f.bound[e]&&f.bound[e](r),p&&H(t,e)),n})):[],f.update(),p=!0,o(f.before_update),f.fragment=!!a&&a(f.ctx),r.target){if(r.hydrate){const e=function(e){return Array.from(e.childNodes)}(r.target);f.fragment&&f.fragment.l(e),e.forEach(i)}else f.fragment&&f.fragment.c();r.intro&&W(t.$$.fragment),J(t,r.target,r.anchor,r.customElement),L()}$(d)}class Y{$destroy(){R(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function Z(t){let n,o,r,s,c,m,f,g,w,v;return{c(){n=u("div"),o=u("h2"),o.textContent="Welcome to Wikiguessr!",r=d(),s=u("p"),s.textContent="The object of the game is to guess the title of a Wikipedia article, based on the the words that appear the most frequently in it.",c=d(),m=u("ul"),m.innerHTML="<li>Common filler words are removed.</li> \n    <li>You must reveal at least one word before each guess.</li> \n    <li>A new puzzle is released every day!</li>",f=d(),g=u("button"),g.textContent="Close this message",h(m,"class","svelte-szjdro"),h(n,"class","win")},m(e,i){l(e,n,i),a(n,o),a(n,r),a(n,s),a(n,c),a(n,m),a(n,f),a(n,g),w||(v=p(g,"click",t[0]),w=!0)},p:e,i:e,o:e,d(e){e&&i(n),w=!1,v()}}}function U(e,t,n){let{show_intro:o}=t;return e.$$set=e=>{"show_intro"in e&&n(1,o=e.show_intro)},[function(){n(1,o=!1),localStorage.setItem("is_subsequent_visit","true")},o]}class V extends Y{constructor(e){super(),F(this,e,U,Z,s,{show_intro:1})}}const K=["the","to","a","and","in","of","are","or","is","for","be","on","was","with","by","as","at","it","has","an","has","its","from","but","have","that","can","also","this","were","had","which","would","after","year","'s"];function Q(e,t,n){const o=function(e,t){let n;return t.split(" ").forEach((t=>{const o=new RegExp(t,"g");n=e.replace(o,"")})),n.match(/(\w|')+/g)}(e.extract,t),r=function(e){return e.reduce(((e,t)=>e.set(t.toLowerCase(),(e.get(t.toLowerCase())||0)+1)),new Map)}(o),s=[...r.entries()].filter((e=>![...n.answers,...n.remove,...K].includes(e[0]))),a=n.name.split("_"),l=s.filter((e=>{for(let t of a){if(t.length<4)continue;if(new RegExp(`${t.toLowerCase()}`).test(e[0]))return!1}return!0}));let i;return i=l.length>144?l.slice(0,144):l,i.sort(((e,t)=>t[1]-e[1])),i}const X=new Date("2022-05-15"),ee=Math.floor(((new Date).getTime()-X.getTime())/864e5);function te(e){oe("revealed_words",JSON.stringify(e))}function ne(e){e?oe("turn_is_guess","1"):localStorage.removeItem("turn_is_guess")}function oe(e,t){localStorage.setItem(e,t)}function re(e,t){return localStorage.getItem(e)?JSON.parse(localStorage.getItem(e)):t}function se(e,t,n){const o=e.slice();return o[20]=t[n][0],o[22]=n,o}function ae(t){return{c:e,m:e,p:e,d:e}}function le(e){let t,n=e[19],o=[];for(let t=0;t<n.length;t+=1)o[t]=ue(se(e,n,t));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=f()},m(e,n){for(let t=0;t<o.length;t+=1)o[t].m(e,n);l(e,t,n)},p(e,r){if(769&r){let s;for(n=e[19],s=0;s<n.length;s+=1){const a=se(e,n,s);o[s]?o[s].p(a,r):(o[s]=ue(a),o[s].c(),o[s].m(t.parentNode,t))}for(;s<o.length;s+=1)o[s].d(1);o.length=n.length}},d(e){c(o,e),e&&i(t)}}}function ie(e){let t,n,o;function r(){return e[14](e[20])}return{c(){t=u("button"),t.textContent="Reveal\r\n    "},m(e,s){l(e,t,s),n||(o=p(t,"click",r),n=!0)},p(t,n){e=t},d(e){e&&i(t),n=!1,o()}}}function ce(e){let t,n,o=e[20]+"";return{c(){t=u("p"),n=m(o)},m(e,o){l(e,t,o),a(t,n)},p(e,t){256&t&&o!==(o=e[20]+"")&&g(n,o)},d(e){e&&i(t)}}}function ue(e){let t,n,o,r,s,c=e[22]+1+"";function p(e,t){return 257&t&&(r=null),null==r&&(r=!!e[0].includes(e[20])),r?ce:ie}let h=p(e,-1),g=h(e);return{c(){t=u("p"),n=m(c),o=d(),g.c(),s=f()},m(e,r){l(e,t,r),a(t,n),l(e,o,r),g.m(e,r),l(e,s,r)},p(e,t){h===(h=p(e,t))&&g?g.p(e,t):(g.d(1),g=h(e),g&&(g.c(),g.m(s.parentNode,s)))},d(e){e&&i(t),e&&i(o),g.d(e),e&&i(s)}}}function me(t){let n;return{c(){n=m("Loading...")},m(e,t){l(e,n,t)},p:e,d(e){e&&i(n)}}}function de(e){let t,n,o,r,s,c,f,w,v,_,$,b,y,k,z,x,C,S,N=e[0].length+"";return{c(){t=u("div"),n=u("h1"),n.textContent="Congratulations!",o=d(),r=u("p"),s=u("a"),c=m(e[3]),w=m("\r\n  was the correct answer."),v=d(),_=u("p"),$=m("It took you "),b=m(N),y=m(" reveals to get the answer."),k=d(),z=u("p"),x=u("button"),x.textContent="Close",h(s,"href",f=`https://en.wikipedia.org/wiki/${e[1].name}`),h(s,"target","_blank"),h(t,"class","win")},m(i,u){l(i,t,u),a(t,n),a(t,o),a(t,r),a(r,s),a(s,c),a(r,w),a(t,v),a(t,_),a(_,$),a(_,b),a(_,y),a(t,k),a(t,z),a(z,x),C||(S=p(x,"click",e[15]),C=!0)},p(e,t){8&t&&g(c,e[3]),2&t&&f!==(f=`https://en.wikipedia.org/wiki/${e[1].name}`)&&h(s,"href",f),1&t&&N!==(N=e[0].length+"")&&g(b,N)},d(e){e&&i(t),C=!1,S()}}}function fe(t){let n,r,s,c,_,$,b,y,k,z,x,C,S,N=t[0].length+"",T={ctx:t,current:null,token:null,hasCatch:!1,pending:me,then:le,catch:ae,value:19};D(k=t[8],T);let E=t[4]&&de(t);return{c(){n=u("form"),r=u("input"),s=d(),c=u("p"),_=m("Words Revealed: "),$=m(N),b=d(),y=u("div"),T.block.c(),z=d(),E&&E.c(),x=f(),h(r,"type","text"),h(r,"placeholder",t[7]),r.disabled=t[6],v(r,"wrong",t[5]),h(n,"class","guesser"),h(y,"class","cont")},m(e,o){var i;l(e,n,o),a(n,r),w(r,t[2]),a(n,s),a(n,c),a(c,_),a(c,$),l(e,b,o),l(e,y,o),T.block.m(y,T.anchor=null),T.mount=()=>y,T.anchor=null,l(e,z,o),E&&E.m(e,o),l(e,x,o),C||(S=[p(r,"input",t[13]),p(n,"submit",(i=t[10],function(e){return e.preventDefault(),i.call(this,e)}))],C=!0)},p(e,[n]){t=e,128&n&&h(r,"placeholder",t[7]),64&n&&(r.disabled=t[6]),4&n&&r.value!==t[2]&&w(r,t[2]),32&n&&v(r,"wrong",t[5]),1&n&&N!==(N=t[0].length+"")&&g($,N),T.ctx=t,256&n&&k!==(k=t[8])&&D(k,T)||function(e,t,n){const o=t.slice(),{resolved:r}=e;e.current===e.then&&(o[e.value]=r),e.current===e.catch&&(o[e.error]=r),e.block.p(o,n)}(T,t,n),t[4]?E?E.p(t,n):(E=de(t),E.c(),E.m(x.parentNode,x)):E&&(E.d(1),E=null)},i:e,o:e,d(e){e&&i(n),e&&i(b),e&&i(y),T.block.d(),T.token=null,T=null,e&&i(z),E&&E.d(e),e&&i(x),C=!1,o(S)}}}function pe(e,t,n){let o,r,s,{puzzle:a}=t,{revealed_words:l}=t,{turn_is_guess:i}=t,{completed_puzzles:c}=t,u="",m="",d=!1,f=!1;async function p(e){console.log("loading",e);const t=await async function(e){const t=`https://en.wikipedia.org/w/api.php?action=query&prop=extracts&titles=${e}&explaintext=1&formatversion=2&exsectionformat=plain&format=json&origin=*`,n=await fetch(t);if(!n.ok)throw Error(n.statusText);return(await n.json()).query.pages[0]}(e);return n(3,m=t.title),Q(t,m,a)}function h(e){n(0,l=[...l,e]),te(l),n(11,i=!0),ne(i)}function g(){n(4,d=!0),c.push({title:a.name,score:l.length}),function(e){oe("completed_puzzles",JSON.stringify(e))}(c)}return e.$$set=e=>{"puzzle"in e&&n(1,a=e.puzzle),"revealed_words"in e&&n(0,l=e.revealed_words),"turn_is_guess"in e&&n(11,i=e.turn_is_guess),"completed_puzzles"in e&&n(12,c=e.completed_puzzles)},e.$$.update=()=>{2&e.$$.dirty&&n(8,o=p(a.name)),2048&e.$$.dirty&&n(7,r=i?"Make a Guess":"Reveal a Word"),2048&e.$$.dirty&&n(6,s=!i)},[l,a,u,m,d,f,s,r,o,h,function(){u.toLowerCase()===m.toLowerCase()||a.answers.includes(u.toLowerCase())?g():(n(5,f=!0),setTimeout((()=>{n(2,u=""),n(11,i=!1),n(5,f=!1)}),500))},i,c,function(){u=this.value,n(2,u)},e=>{h(e)},()=>{n(4,d=!1)}]}class he extends Y{constructor(e){super(),F(this,e,pe,fe,s,{puzzle:1,revealed_words:0,turn_is_guess:11,completed_puzzles:12})}}const ge=[{name:"Pet_door",answers:[],remove:[]},{name:"Valencia",answers:[],remove:["val","ncia","c","f","1","2"]},{name:"Adolf_Hitler",answers:[],remove:[]},{name:"Harry_Styles",answers:[],remove:[]},{name:"Donald_Trump",answers:[],remove:[]},{name:"Colorado",answers:[],remove:[]},{name:"Tornado",answers:["tornadoes"],remove:["tornado","tornadoes"]},{name:"Nebraska",answers:[],remove:[]},{name:"Yahtzee",answers:["yatzee"],remove:[]},{name:"Joan_of_Arc",answers:[],remove:["joan","joan's"]},{name:"Turtle",answers:["turtles"],remove:["turtles","turtle"]},{name:"Ludwig_van_Beethoven",answers:["beethoven"],remove:[]},{name:"Polio",answers:[],remove:["polio","poliovirus"]},{name:"Africa",answers:[],remove:["n","000","1"]},{name:"Whale_shark",answers:[],remove:["whale","s","m"]},{name:"SeaWorld",answers:["sea world"],remove:["sea","world"]},{name:"Chicken",answers:[],remove:["s","chickens","chicken"]},{name:"Jupiter",answers:[],remove:["000"]},{name:"Toast_(food)",answers:["toast"],remove:[]},{name:"Monopoly_(game)",answers:["monopoly"],remove:[]},{name:"SpongeBob_SquarePants",answers:["spongebob","sponge bob"],remove:[]},{name:"First_Amendment_to_the_United_States_Constitution",answers:["first amendment","1st amendment"],remove:[]},{name:"Mary_Had_a_Little_Lamb",answers:["mary had a little lamb"],remove:[]},{name:"Beyoncé",answers:["beyonce"],remove:[]},{name:"Walt_Disney",answers:["walt disney"],remove:[]},{name:"Spanish_Inquisition",answers:["spanish inquisition"],remove:[]},{name:"Phil_McGraw",answers:["dr phil","doctor phil"],remove:[]},{name:"A_Tale_of_Two_Cities",answers:["a tale of two cities","tale of two cities"],remove:[]},{name:"Uptown_Funk",answers:["uptown funk"],remove:[]},{name:"IPhone",answers:[],remove:[]},{name:"Bible",answers:["the bible"],remove:[]},{name:"Stephen_Hawking",answers:[],remove:[]},{name:"Chernobyl_disaster",answers:["chernobyl","chernoble","chernobel"],remove:[]},{name:"Mark_Zuckerberg",answers:[],remove:[]},{name:"Paris",answers:[],remove:[]},{name:"John Cena",answers:["john sena"],remove:[]},{name:"Albert_Einstein",answers:["einstein","einstien"],remove:[]},{name:"Darth_Vader",answers:["lord vader"],remove:[]},{name:"Australia",answers:[],remove:[]},{name:"Top_Gun",answers:[],remove:[]},{name:"Penguin",answers:[],remove:[]},{name:"Bill_Gates",answers:[],remove:[]},{name:"Stranger_Things",answers:[],remove:[]},{name:"Wikipedia",answers:[],remove:[]},{name:"Elvis_Presley",answers:["elvis"],remove:[]},{name:"Gmail",answers:[],remove:[]},{name:"Cat",answers:[],remove:[]},{name:"Netflix",answers:[],remove:[]},{name:"Mona_Lisa",answers:[],remove:[]},{name:"Theodore_Roosevelt",answers:["teddy roosevelt"],remove:[]},{name:"Corvus",answers:["crow"],remove:[]},{name:"Zendaya",answers:[],remove:[]},{name:"Nancy_Pelosi",answers:[],remove:[]},{name:"Minecraft",answers:[],remove:[]},{name:"Scientology",answers:[],remove:[]},{name:"Twitter",answers:[],remove:[]},{name:"New_Zealand",answers:[],remove:[]},{name:"Wordle",answers:[],remove:[]},{name:"Nicolas Cage",answers:["nick cage","nicholas cage"],remove:[]},{name:"Avatar_(2009_film)",answers:["avatar"],remove:[]},{name:"Twitch_(service)",answers:["twitch"],remove:[]},{name:"Titanic",answers:["the titanic"],remove:[]},{name:"Greek_alphabet",answers:["greek letters"],remove:[]},{name:"NATO_phonetic_alphabet",answers:["phonetic alphabet","nato alphabet"],remove:[]}];function we(e,t,n){const o=e.slice();return o[8]=t[n].reveals,o[9]=t[n].count,o}function ve(e){let t,n,o,r,s,c,f,p,w=e[8]+"",v=e[9]+"";return{c(){t=u("div"),n=u("p"),o=m(w),r=d(),s=u("p"),c=m(v),p=d(),h(s,"class","bar svelte-9phtjd"),h(s,"style",f=`width: ${Math.floor(e[9]/e[2]*100)}%`),h(t,"class","row svelte-9phtjd")},m(e,i){l(e,t,i),a(t,n),a(n,o),a(t,r),a(t,s),a(s,c),a(t,p)},p(e,t){2&t&&w!==(w=e[8]+"")&&g(o,w),2&t&&v!==(v=e[9]+"")&&g(c,v),6&t&&f!==(f=`width: ${Math.floor(e[9]/e[2]*100)}%`)&&h(s,"style",f)},d(e){e&&i(t)}}}function _e(t){let n,o,r,s,h,w,v,_,$,b,y,k,z,x,C,S,N,T,E,A,L,j=t[4]?.title.replaceAll("_"," ")+"",M=t[4]?.score+"",P=t[1].sort($e),I=[];for(let e=0;e<P.length;e+=1)I[e]=ve(we(t,P,e));return{c(){n=u("button"),n.textContent="Back",o=d(),r=u("ul"),s=u("li"),h=m("Your best puzzle was "),w=u("em"),v=m(j),_=m(" which you got in "),$=m(M),b=m(" reveals!"),y=d(),k=u("li"),z=m("Your average score is "),x=m(t[3]),C=m(" reveals."),S=d(),N=u("p"),N.textContent="Distribution:",T=d();for(let e=0;e<I.length;e+=1)I[e].c();E=f()},m(e,i){l(e,n,i),l(e,o,i),l(e,r,i),a(r,s),a(s,h),a(s,w),a(w,v),a(s,_),a(s,$),a(s,b),a(r,y),a(r,k),a(k,z),a(k,x),a(k,C),l(e,S,i),l(e,N,i),l(e,T,i);for(let t=0;t<I.length;t+=1)I[t].m(e,i);l(e,E,i),A||(L=p(n,"click",t[7]),A=!0)},p(e,[t]){if(16&t&&j!==(j=e[4]?.title.replaceAll("_"," ")+"")&&g(v,j),16&t&&M!==(M=e[4]?.score+"")&&g($,M),8&t&&g(x,e[3]),6&t){let n;for(P=e[1].sort($e),n=0;n<P.length;n+=1){const o=we(e,P,n);I[n]?I[n].p(o,t):(I[n]=ve(o),I[n].c(),I[n].m(E.parentNode,E))}for(;n<I.length;n+=1)I[n].d(1);I.length=P.length}},i:e,o:e,d(e){e&&i(n),e&&i(o),e&&i(r),e&&i(S),e&&i(N),e&&i(T),c(I,e),e&&i(E),A=!1,L()}}}const $e=(e,t)=>e.reveals-t.reveals;function be(e,t,n){let o,r,s,a;var l;let{current_page:i}=t,{completed_puzzles:c}=t;return e.$$set=e=>{"current_page"in e&&n(0,i=e.current_page),"completed_puzzles"in e&&n(5,c=e.completed_puzzles)},e.$$.update=()=>{32&e.$$.dirty&&n(4,o=c.sort(((e,t)=>e.score-t.score))[0]),32&e.$$.dirty&&n(3,r=function(e){return(e.reduce(((e,t)=>e+t.score),0)/e.length).toFixed(1)}(c)),32&e.$$.dirty&&n(1,s=function(e){const t={};e.forEach((({score:e})=>{void 0===t[e]&&(t[e]=0),t[e]++}));const n=[];for(let e in t)n.push({reveals:Number(e),count:t[e]});return n}(c)),66&e.$$.dirty&&n(2,a=null===n(6,l=s.sort(((e,t)=>t.count-e.count))[0])||void 0===l?void 0:l.count)},[i,s,a,r,o,c,l,()=>{n(0,i="guess")}]}class ye extends Y{constructor(e){super(),F(this,e,be,_e,s,{current_page:0,completed_puzzles:5})}}function ke(e,t,n){const o=e.slice();return o[17]=t[n],o[19]=n,o}function ze(e){let t,n,o,r,s,a,c,m,f=e[0].length>0&&Se(e);function h(t){e[14](t)}let g={puzzle:e[3],revealed_words:e[1],turn_is_guess:e[2]};return void 0!==e[0]&&(g.completed_puzzles=e[0]),r=new he({props:g}),k.push((()=>O(r,"completed_puzzles",h))),{c(){t=u("button"),t.textContent="Change Puzzle",n=d(),f&&f.c(),o=d(),G(r.$$.fragment)},m(s,i){l(s,t,i),l(s,n,i),f&&f.m(s,i),l(s,o,i),J(r,s,i),a=!0,c||(m=p(t,"click",e[12]),c=!0)},p(e,t){e[0].length>0?f?f.p(e,t):(f=Se(e),f.c(),f.m(o.parentNode,o)):f&&(f.d(1),f=null);const n={};8&t&&(n.puzzle=e[3]),2&t&&(n.revealed_words=e[1]),4&t&&(n.turn_is_guess=e[2]),!s&&1&t&&(s=!0,n.completed_puzzles=e[0],T((()=>s=!1))),r.$set(n)},i(e){a||(W(r.$$.fragment,e),a=!0)},o(e){B(r.$$.fragment,e),a=!1},d(e){e&&i(t),e&&i(n),f&&f.d(e),e&&i(o),R(r,e),c=!1,m()}}}function xe(e){let t,n,o;function r(t){e[11](t)}let s={completed_puzzles:e[0]};return void 0!==e[4]&&(s.current_page=e[4]),t=new ye({props:s}),k.push((()=>O(t,"current_page",r))),{c(){G(t.$$.fragment)},m(e,n){J(t,e,n),o=!0},p(e,o){const r={};1&o&&(r.completed_puzzles=e[0]),!n&&16&o&&(n=!0,r.current_page=e[4],T((()=>n=!1))),t.$set(r)},i(e){o||(W(t.$$.fragment,e),o=!0)},o(e){B(t.$$.fragment,e),o=!1},d(e){R(t,e)}}}function Ce(t){let n,o,r=t[0].length>0&&Ne(t),s=t[6],a=[];for(let e=0;e<s.length;e+=1)a[e]=Te(ke(t,s,e));return{c(){r&&r.c(),n=d();for(let e=0;e<a.length;e+=1)a[e].c();o=f()},m(e,t){r&&r.m(e,t),l(e,n,t);for(let n=0;n<a.length;n+=1)a[n].m(e,t);l(e,o,t)},p(e,t){if(e[0].length>0?r?r.p(e,t):(r=Ne(e),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null),448&t){let n;for(s=e[6],n=0;n<s.length;n+=1){const r=ke(e,s,n);a[n]?a[n].p(r,t):(a[n]=Te(r),a[n].c(),a[n].m(o.parentNode,o))}for(;n<a.length;n+=1)a[n].d(1);a.length=s.length}},i:e,o:e,d(e){r&&r.d(e),e&&i(n),c(a,e),e&&i(o)}}}function Se(t){let n,o,r;return{c(){n=u("button"),n.textContent="Show Stats"},m(e,s){l(e,n,s),o||(r=p(n,"click",t[13]),o=!0)},p:e,d(e){e&&i(n),o=!1,r()}}}function Ne(t){let n,o,r,s;return{c(){var e,t,r,s;n=u("div"),o=u("button"),o.textContent="Show Stats",e=n,t="margin-bottom",null===(r=".75rem")?e.style.removeProperty(t):e.style.setProperty(t,r,s?"important":"")},m(e,i){l(e,n,i),a(n,o),r||(s=p(o,"click",t[9]),r=!0)},p:e,d(e){e&&i(n),r=!1,s()}}}function Te(e){let t,n,o,r,s,c,f=e[6].length-e[19]+"";function h(){return e[10](e[19])}return{c(){t=u("button"),n=m(f),o=d(),t.disabled=r=e[8](e[6][e[6].length-e[19]-1].name)},m(e,r){l(e,t,r),a(t,n),a(t,o),s||(c=p(t,"click",h),s=!0)},p(t,n){e=t},d(e){e&&i(t),s=!1,c()}}}function Ee(e){let t,n,o;function r(t){e[15](t)}let s={};return void 0!==e[5]&&(s.show_intro=e[5]),t=new V({props:s}),k.push((()=>O(t,"show_intro",r))),{c(){G(t.$$.fragment)},m(e,n){J(t,e,n),o=!0},p(e,o){const r={};!n&&32&o&&(n=!0,r.show_intro=e[5],T((()=>n=!1))),t.$set(r)},i(e){o||(W(t.$$.fragment,e),o=!0)},o(e){B(t.$$.fragment,e),o=!1},d(e){R(t,e)}}}function Ae(e){let t,n,o,r,s,a=!localStorage.getItem("is_subsequent_visit")&&e[5];const c=[Ce,xe,ze],u=[];function m(e,t){return"change"===e[4]?0:"stats"===e[4]?1:2}t=m(e),n=u[t]=c[t](e);let p=a&&Ee(e);return{c(){n.c(),o=d(),p&&p.c(),r=f()},m(e,n){u[t].m(e,n),l(e,o,n),p&&p.m(e,n),l(e,r,n),s=!0},p(e,[s]){let l=t;t=m(e),t===l?u[t].p(e,s):(I(),B(u[l],1,1,(()=>{u[l]=null})),q(),n=u[t],n?n.p(e,s):(n=u[t]=c[t](e),n.c()),W(n,1),n.m(o.parentNode,o)),32&s&&(a=!localStorage.getItem("is_subsequent_visit")&&e[5]),a?p?(p.p(e,s),32&s&&W(p,1)):(p=Ee(e),p.c(),W(p,1),p.m(r.parentNode,r)):p&&(I(),B(p,1,1,(()=>{p=null})),q())},i(e){s||(W(n),W(p),s=!0)},o(e){B(n),B(p),s=!1},d(e){u[t].d(e),e&&i(o),p&&p.d(e),e&&i(r)}}}function Le(e,t,n){let o=function(){const e=re("completed_puzzles",[]);return"string"==typeof e[0]?[]:e}(),r=re("revealed_words",[]),s=Boolean(localStorage.getItem("turn_is_guess")),a=re("current_puzzle",ee),l=(i=a,console.log(i),ge[i]);var i;let c=f(l.name)?"change":"guess",u=ge.slice(0,ee+1),m=!0;function d(e,t){n(3,l=e),n(1,r=[]),n(2,s=!1),n(4,c="guess"),function(e){oe("current_puzzle",e.toString())}(t),te(r),ne(s)}function f(e){return o.some((t=>t.title===e))}window.change_puzzle=function(e){d(ge[e],e)};return[o,r,s,l,c,m,u,d,f,()=>{n(4,c="stats")},e=>{d(u[u.length-e-1],u.length-e-1)},function(e){c=e,n(4,c)},()=>{n(4,c="change")},()=>{n(4,c="stats")},function(e){o=e,n(0,o)},function(e){m=e,n(5,m)}]}return new class extends Y{constructor(e){super(),F(this,e,Le,Ae,s,{})}}({target:document.body,props:{}})}();
//# sourceMappingURL=bundle.js.map
