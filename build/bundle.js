var app=function(){"use strict";function e(){}function n(e){return e()}function t(){return Object.create(null)}function r(e){e.forEach(n)}function o(e){return"function"==typeof e}function s(e,n){return e!=e?n==n:e!==n||e&&"object"==typeof e||"function"==typeof e}function a(e,n){e.appendChild(n)}function i(e,n,t){e.insertBefore(n,t||null)}function l(e){e.parentNode.removeChild(e)}function c(e,n){for(let t=0;t<e.length;t+=1)e[t]&&e[t].d(n)}function u(e){return document.createElement(e)}function m(e){return document.createTextNode(e)}function d(){return m(" ")}function p(){return m("")}function f(e,n,t,r){return e.addEventListener(n,t,r),()=>e.removeEventListener(n,t,r)}function h(e,n,t){null==t?e.removeAttribute(n):e.getAttribute(n)!==t&&e.setAttribute(n,t)}function w(e,n){n=""+n,e.wholeText!==n&&(e.data=n)}function v(e,n){e.value=null==n?"":n}function g(e,n,t){e.classList[t?"add":"remove"](n)}let _;function b(e){_=e}function $(){if(!_)throw new Error("Function called outside component initialization");return _}const y=[],k=[],z=[],x=[],C=Promise.resolve();let S=!1;function T(e){z.push(e)}function N(e){x.push(e)}const E=new Set;let P=0;function A(){const e=_;do{for(;P<y.length;){const e=y[P];P++,b(e),L(e.$$)}for(b(null),y.length=0,P=0;k.length;)k.pop()();for(let e=0;e<z.length;e+=1){const n=z[e];E.has(n)||(E.add(n),n())}z.length=0}while(y.length);for(;x.length;)x.pop()();S=!1,E.clear(),b(e)}function L(e){if(null!==e.fragment){e.update(),r(e.before_update);const n=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,n),e.after_update.forEach(T)}}const M=new Set;let j;function I(){j={r:0,c:[],p:j}}function W(){j.r||r(j.c),j=j.p}function B(e,n){e&&e.i&&(M.delete(e),e.i(n))}function R(e,n,t,r){if(e&&e.o){if(M.has(e))return;M.add(e),j.c.push((()=>{M.delete(e),r&&(t&&e.d(1),r())})),e.o(n)}}function q(e,n){const t=n.token={};function r(e,r,o,s){if(n.token!==t)return;n.resolved=s;let a=n.ctx;void 0!==o&&(a=a.slice(),a[o]=s);const i=e&&(n.current=e)(a);let l=!1;n.block&&(n.blocks?n.blocks.forEach(((e,t)=>{t!==r&&e&&(I(),R(e,1,1,(()=>{n.blocks[t]===e&&(n.blocks[t]=null)})),W())})):n.block.d(1),i.c(),B(i,1),i.m(n.mount(),n.anchor),l=!0),n.block=i,n.blocks&&(n.blocks[r]=i),l&&A()}if((o=e)&&"object"==typeof o&&"function"==typeof o.then){const t=$();if(e.then((e=>{b(t),r(n.then,1,n.value,e),b(null)}),(e=>{if(b(t),r(n.catch,2,n.error,e),b(null),!n.hasCatch)throw e})),n.current!==n.pending)return r(n.pending,0),!0}else{if(n.current!==n.then)return r(n.then,1,n.value,e),!0;n.resolved=e}var o}function D(e,n,t){const r=e.$$.props[n];void 0!==r&&(e.$$.bound[r]=t,t(e.$$.ctx[r]))}function O(e){e&&e.c()}function G(e,t,s,a){const{fragment:i,on_mount:l,on_destroy:c,after_update:u}=e.$$;i&&i.m(t,s),a||T((()=>{const t=l.map(n).filter(o);c?c.push(...t):r(t),e.$$.on_mount=[]})),u.forEach(T)}function H(e,n){const t=e.$$;null!==t.fragment&&(r(t.on_destroy),t.fragment&&t.fragment.d(n),t.on_destroy=t.fragment=null,t.ctx=[])}function J(e,n){-1===e.$$.dirty[0]&&(y.push(e),S||(S=!0,C.then(A)),e.$$.dirty.fill(0)),e.$$.dirty[n/31|0]|=1<<n%31}function U(n,o,s,a,i,c,u,m=[-1]){const d=_;b(n);const p=n.$$={fragment:null,ctx:null,props:c,update:e,not_equal:i,bound:t(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(o.context||(d?d.$$.context:[])),callbacks:t(),dirty:m,skip_bound:!1,root:o.target||d.$$.root};u&&u(p.root);let f=!1;if(p.ctx=s?s(n,o.props||{},((e,t,...r)=>{const o=r.length?r[0]:t;return p.ctx&&i(p.ctx[e],p.ctx[e]=o)&&(!p.skip_bound&&p.bound[e]&&p.bound[e](o),f&&J(n,e)),t})):[],p.update(),f=!0,r(p.before_update),p.fragment=!!a&&a(p.ctx),o.target){if(o.hydrate){const e=function(e){return Array.from(e.childNodes)}(o.target);p.fragment&&p.fragment.l(e),e.forEach(l)}else p.fragment&&p.fragment.c();o.intro&&B(n.$$.fragment),G(n,o.target,o.anchor,o.customElement),A()}b(d)}class Y{$destroy(){H(this,1),this.$destroy=e}$on(e,n){const t=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return t.push(n),()=>{const e=t.indexOf(n);-1!==e&&t.splice(e,1)}}$set(e){var n;this.$$set&&(n=e,0!==Object.keys(n).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function F(n){let t,r,o,s,c,m,p,w,v,g;return{c(){t=u("div"),r=u("h2"),r.textContent="Welcome to Wikiguessr!",o=d(),s=u("p"),s.textContent="The object of the game is to guess the title of a Wikipedia article, based on the the words that appear the most frequently in it.",c=d(),m=u("ul"),m.innerHTML="<li>Common filler words are removed.</li> \n    <li>You must reveal at least one word before each guess.</li> \n    <li>A new puzzle is released every day!</li>",p=d(),w=u("button"),w.textContent="Close this message",h(m,"class","svelte-szjdro"),h(t,"class","win")},m(e,l){i(e,t,l),a(t,r),a(t,o),a(t,s),a(t,c),a(t,m),a(t,p),a(t,w),v||(g=f(w,"click",n[0]),v=!0)},p:e,i:e,o:e,d(e){e&&l(t),v=!1,g()}}}function Z(e,n,t){let{show_intro:r}=n;return e.$$set=e=>{"show_intro"in e&&t(1,r=e.show_intro)},[function(){t(1,r=!1),localStorage.setItem("is_subsequent_visit","true")},r]}class V extends Y{constructor(e){super(),U(this,e,Z,F,s,{show_intro:1})}}const K=["the","to","a","and","in","of","are","or","is","for","be","on","was","with","by","as","at","it","has","an","has","its","from","but","have","that","can","also","this","were","had","which","would","after","year","'s"];function Q(e,n,t){const r=function(e,n){let t;return n.split(" ").forEach((n=>{const r=new RegExp(n,"g");t=e.replace(r,"")})),t.match(/(\w|')+/g)}(e.extract,n),o=function(e){return e.reduce(((e,n)=>e.set(n.toLowerCase(),(e.get(n.toLowerCase())||0)+1)),new Map)}(r),s=[...o.entries()].filter((e=>![...t.answers,...t.remove,...K].includes(e[0]))),a=t.name.split("_"),i=s.filter((e=>{for(let n of a){if(n.length<4)continue;if(new RegExp(`${n.toLowerCase()}`).test(e[0]))return!1}return!0}));let l;return l=i.length>144?i.slice(0,144):i,l.sort(((e,n)=>n[1]-e[1])),l}const X=new Date("2022-05-15"),ee=Math.floor(((new Date).getTime()-X.getTime())/864e5);function ne(e){re("revealed_words",JSON.stringify(e))}function te(e){e?re("turn_is_guess","1"):localStorage.removeItem("turn_is_guess")}function re(e,n){localStorage.setItem(e,n)}function oe(e,n){return localStorage.getItem(e)?JSON.parse(localStorage.getItem(e)):n}function se(e,n,t){const r=e.slice();return r[20]=n[t][0],r[22]=t,r}function ae(n){return{c:e,m:e,p:e,d:e}}function ie(e){let n,t=e[19],r=[];for(let n=0;n<t.length;n+=1)r[n]=ue(se(e,t,n));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();n=p()},m(e,t){for(let n=0;n<r.length;n+=1)r[n].m(e,t);i(e,n,t)},p(e,o){if(769&o){let s;for(t=e[19],s=0;s<t.length;s+=1){const a=se(e,t,s);r[s]?r[s].p(a,o):(r[s]=ue(a),r[s].c(),r[s].m(n.parentNode,n))}for(;s<r.length;s+=1)r[s].d(1);r.length=t.length}},d(e){c(r,e),e&&l(n)}}}function le(e){let n,t,r;function o(){return e[14](e[20])}return{c(){n=u("button"),n.textContent="Reveal\r\n    "},m(e,s){i(e,n,s),t||(r=f(n,"click",o),t=!0)},p(n,t){e=n},d(e){e&&l(n),t=!1,r()}}}function ce(e){let n,t,r=e[20]+"";return{c(){n=u("p"),t=m(r)},m(e,r){i(e,n,r),a(n,t)},p(e,n){256&n&&r!==(r=e[20]+"")&&w(t,r)},d(e){e&&l(n)}}}function ue(e){let n,t,r,o,s,c=e[22]+1+"";function f(e,n){return 257&n&&(o=null),null==o&&(o=!!e[0].includes(e[20])),o?ce:le}let h=f(e,-1),w=h(e);return{c(){n=u("p"),t=m(c),r=d(),w.c(),s=p()},m(e,o){i(e,n,o),a(n,t),i(e,r,o),w.m(e,o),i(e,s,o)},p(e,n){h===(h=f(e,n))&&w?w.p(e,n):(w.d(1),w=h(e),w&&(w.c(),w.m(s.parentNode,s)))},d(e){e&&l(n),e&&l(r),w.d(e),e&&l(s)}}}function me(n){let t;return{c(){t=m("Loading...")},m(e,n){i(e,t,n)},p:e,d(e){e&&l(t)}}}function de(e){let n,t,r,o,s,c,p,v,g,_,b,$,y,k,z,x,C,S,T=e[0].length+"";return{c(){n=u("div"),t=u("h1"),t.textContent="Congratulations!",r=d(),o=u("p"),s=u("a"),c=m(e[3]),v=m("\r\n  was the correct answer."),g=d(),_=u("p"),b=m("It took you "),$=m(T),y=m(" reveals to get the answer."),k=d(),z=u("p"),x=u("button"),x.textContent="Close",h(s,"href",p=`https://en.wikipedia.org/wiki/${e[1].name}`),h(s,"target","_blank"),h(n,"class","win")},m(l,u){i(l,n,u),a(n,t),a(n,r),a(n,o),a(o,s),a(s,c),a(o,v),a(n,g),a(n,_),a(_,b),a(_,$),a(_,y),a(n,k),a(n,z),a(z,x),C||(S=f(x,"click",e[15]),C=!0)},p(e,n){8&n&&w(c,e[3]),2&n&&p!==(p=`https://en.wikipedia.org/wiki/${e[1].name}`)&&h(s,"href",p),1&n&&T!==(T=e[0].length+"")&&w($,T)},d(e){e&&l(n),C=!1,S()}}}function pe(n){let t,o,s,c,_,b,$,y,k,z,x,C,S,T=n[0].length+"",N={ctx:n,current:null,token:null,hasCatch:!1,pending:me,then:ie,catch:ae,value:19};q(k=n[8],N);let E=n[4]&&de(n);return{c(){t=u("form"),o=u("input"),s=d(),c=u("p"),_=m("Words Revealed: "),b=m(T),$=d(),y=u("div"),N.block.c(),z=d(),E&&E.c(),x=p(),h(o,"type","text"),h(o,"placeholder",n[7]),o.disabled=n[6],g(o,"wrong",n[5]),h(t,"class","guesser"),h(y,"class","cont")},m(e,r){var l;i(e,t,r),a(t,o),v(o,n[2]),a(t,s),a(t,c),a(c,_),a(c,b),i(e,$,r),i(e,y,r),N.block.m(y,N.anchor=null),N.mount=()=>y,N.anchor=null,i(e,z,r),E&&E.m(e,r),i(e,x,r),C||(S=[f(o,"input",n[13]),f(t,"submit",(l=n[10],function(e){return e.preventDefault(),l.call(this,e)}))],C=!0)},p(e,[t]){n=e,128&t&&h(o,"placeholder",n[7]),64&t&&(o.disabled=n[6]),4&t&&o.value!==n[2]&&v(o,n[2]),32&t&&g(o,"wrong",n[5]),1&t&&T!==(T=n[0].length+"")&&w(b,T),N.ctx=n,256&t&&k!==(k=n[8])&&q(k,N)||function(e,n,t){const r=n.slice(),{resolved:o}=e;e.current===e.then&&(r[e.value]=o),e.current===e.catch&&(r[e.error]=o),e.block.p(r,t)}(N,n,t),n[4]?E?E.p(n,t):(E=de(n),E.c(),E.m(x.parentNode,x)):E&&(E.d(1),E=null)},i:e,o:e,d(e){e&&l(t),e&&l($),e&&l(y),N.block.d(),N.token=null,N=null,e&&l(z),E&&E.d(e),e&&l(x),C=!1,r(S)}}}function fe(e,n,t){let r,o,s,{puzzle:a}=n,{revealed_words:i}=n,{turn_is_guess:l}=n,{completed_puzzles:c}=n,u="",m="",d=!1,p=!1;async function f(e){console.log("loading",e);const n=await async function(e){const n=`https://en.wikipedia.org/w/api.php?action=query&prop=extracts&titles=${e}&explaintext=1&formatversion=2&exsectionformat=plain&format=json&origin=*`,t=await fetch(n);if(!t.ok)throw Error(t.statusText);return(await t.json()).query.pages[0]}(e);return t(3,m=n.title),Q(n,m,a)}function h(e){t(0,i=[...i,e]),ne(i),t(11,l=!0),te(l)}function w(){t(4,d=!0),c.push({title:a.name,score:i.length}),function(e){re("completed_puzzles",JSON.stringify(e))}(c)}return e.$$set=e=>{"puzzle"in e&&t(1,a=e.puzzle),"revealed_words"in e&&t(0,i=e.revealed_words),"turn_is_guess"in e&&t(11,l=e.turn_is_guess),"completed_puzzles"in e&&t(12,c=e.completed_puzzles)},e.$$.update=()=>{2&e.$$.dirty&&t(8,r=f(a.name)),2048&e.$$.dirty&&t(7,o=l?"Make a Guess":"Reveal a Word"),2048&e.$$.dirty&&t(6,s=!l)},[i,a,u,m,d,p,s,o,r,h,function(){u.toLowerCase().trim()===m.toLowerCase()||a.answers.includes(u.toLowerCase())?w():(t(5,p=!0),setTimeout((()=>{t(2,u=""),t(11,l=!1),t(5,p=!1)}),500))},l,c,function(){u=this.value,t(2,u)},e=>{h(e)},()=>{t(4,d=!1)}]}class he extends Y{constructor(e){super(),U(this,e,fe,pe,s,{puzzle:1,revealed_words:0,turn_is_guess:11,completed_puzzles:12})}}const we=[{name:"Pet_door",answers:[],remove:[]},{name:"Valencia",answers:[],remove:["val","ncia","c","f","1","2"]},{name:"Adolf_Hitler",answers:[],remove:[]},{name:"Harry_Styles",answers:[],remove:[]},{name:"Donald_Trump",answers:[],remove:[]},{name:"Colorado",answers:[],remove:[]},{name:"Tornado",answers:["tornadoes"],remove:["tornado","tornadoes"]},{name:"Nebraska",answers:[],remove:[]},{name:"Yahtzee",answers:["yatzee"],remove:[]},{name:"Joan_of_Arc",answers:[],remove:["joan","joan's"]},{name:"Turtle",answers:["turtles"],remove:["turtles","turtle"]},{name:"Ludwig_van_Beethoven",answers:["beethoven"],remove:[]},{name:"Polio",answers:[],remove:["polio","poliovirus"]},{name:"Africa",answers:[],remove:["n","000","1"]},{name:"Whale_shark",answers:[],remove:["whale","s","m"]},{name:"SeaWorld",answers:["sea world"],remove:["sea","world"]},{name:"Chicken",answers:[],remove:["s","chickens","chicken"]},{name:"Jupiter",answers:[],remove:["000"]},{name:"Toast_(food)",answers:["toast"],remove:[]},{name:"Monopoly_(game)",answers:["monopoly"],remove:[]},{name:"SpongeBob_SquarePants",answers:["spongebob","sponge bob"],remove:[]},{name:"First_Amendment_to_the_United_States_Constitution",answers:["first amendment","1st amendment"],remove:[]},{name:"Mary_Had_a_Little_Lamb",answers:["mary had a little lamb"],remove:[]},{name:"Beyonc√©",answers:["beyonce"],remove:[]},{name:"Walt_Disney",answers:["walt disney"],remove:[]},{name:"Spanish_Inquisition",answers:["spanish inquisition"],remove:[]},{name:"Phil_McGraw",answers:["dr phil","doctor phil"],remove:[]},{name:"A_Tale_of_Two_Cities",answers:["a tale of two cities","tale of two cities"],remove:[]},{name:"Uptown_Funk",answers:["uptown funk"],remove:[]},{name:"IPhone",answers:[],remove:[]},{name:"Bible",answers:["the bible"],remove:[]},{name:"Stephen_Hawking",answers:["steven hawking","stephen hawkin","stephen hawkings"],remove:[]},{name:"Chernobyl_disaster",answers:["chernobyl","chernoble","chernobel"],remove:[]},{name:"Mark_Zuckerberg",answers:[],remove:[]},{name:"Paris",answers:[],remove:[]},{name:"John Cena",answers:["john sena"],remove:[]},{name:"Albert_Einstein",answers:["einstein","einstien"],remove:[]},{name:"Darth_Vader",answers:["lord vader"],remove:[]},{name:"Australia",answers:[],remove:[]},{name:"Top_Gun",answers:[],remove:["top"]},{name:"Penguin",answers:[],remove:[]},{name:"Bill_Gates",answers:[],remove:[]},{name:"Stranger_Things",answers:[],remove:[]},{name:"Wikipedia",answers:[],remove:[]},{name:"Elvis_Presley",answers:["elvis"],remove:[]},{name:"Gmail",answers:[],remove:[]},{name:"Cat",answers:[],remove:[]},{name:"Netflix",answers:[],remove:[]},{name:"Mona_Lisa",answers:[],remove:[]},{name:"Theodore_Roosevelt",answers:["teddy roosevelt"],remove:[]},{name:"Corvus",answers:["crow"],remove:[]},{name:"Zendaya",answers:[],remove:[]},{name:"Nancy_Pelosi",answers:[],remove:[]},{name:"Minecraft",answers:[],remove:[]},{name:"Scientology",answers:[],remove:[]},{name:"Twitter",answers:[],remove:[]},{name:"New_Zealand",answers:[],remove:[]},{name:"Wordle",answers:[],remove:[]},{name:"Nicolas Cage",answers:["nick cage","nicholas cage"],remove:[]},{name:"Avatar_(2009_film)",answers:["avatar"],remove:[]},{name:"Twitch_(service)",answers:["twitch"],remove:[]},{name:"Titanic",answers:["the titanic"],remove:[]},{name:"Greek_alphabet",answers:["greek letters"],remove:[]},{name:"NATO_phonetic_alphabet",answers:["phonetic alphabet","nato alphabet"],remove:[]},{name:"Dodgeball:_A_True_Underdog_Story",answers:["dodgeball"],remove:[]},{name:"Zeus",answers:["zeus"],remove:[]},{name:"American_Civil_War",answers:["civil war","the civil war"],remove:[]},{name:"Lego",answers:["legos"],remove:["legoland"]},{name:"Beer",answers:[],remove:[]},{name:"Maple",answers:["maple tree"],remove:[]},{name:"Yellowstone_National_Park",answers:["yellowstone"],remove:[]},{name:"Pelican",answers:[],remove:[]},{name:"Pluto",answers:[],remove:[]},{name:"Kiss_(band)",answers:["kiss"],remove:[]},{name:"The_Godfather",answers:["godfather"],remove:[]},{name:"Utah",answers:[],remove:[]},{name:"Prohibition_in_the_United_States",answers:["prohibition"],remove:[]},{name:"Russia",answers:[],remove:["russian"]},{name:"Oscar Isaac",answers:[],remove:[]},{name:"Russia",answers:[],remove:[]},{name:"Pizza",answers:[],remove:[]},{name:"Moscow",answers:[],remove:[]},{name:"Cinema_of_the_United_States",answers:["hollywood"],remove:[]},{name:"Cheese",answers:[],remove:[]},{name:"Russia",answers:[],remove:[]},{name:"Capital_city",answers:["capital"],remove:[]},{name:"Canada",answers:["canadian"],remove:["canadian"]},{name:"Water_buffalo",answers:["water buffalo"],remove:[]},{name:"Lodon",answers:[],remove:[]},{name:"Thomas_Edison",answers:["thomas edison","edison"],remove:[]},{name:"Egypt",answers:["egyptian"],remove:["egyptian"]},{name:"Cairo",answers:[],remove:[]},{name:"Bank",answers:[],remove:["banking"]},{name:"Electric_power",answers:["electricity"],remove:[]},{name:"Black_Death",answers:["plague","the plague","pestilence","bubonic plague"],remove:[]},{name:"Economy",answers:["economics"],remove:[]},{name:"Watt",answers:[],remove:[]},{name:"Rat",answers:["rats"],remove:[]},{name:"Homer",answers:[],remove:[]},{name:"Steam",answers:[],remove:[]},{name:"Asia",answers:["asian"],remove:[]},{name:"Divine_Comedy",answers:["the divine comedy","devine comedy"],remove:[]},{name:"Industrial_Revolution",answers:[],remove:[]},{name:"Pacific_Ocean",answers:["pacific","the pacific"],remove:[]},{name:"Purgatory",answers:[],remove:[]}];function ve(e,n,t){const r=e.slice();return r[8]=n[t].reveals,r[9]=n[t].count,r}function ge(e){let n,t,r,o,s,c,p,f,v=e[8]+"",g=e[9]+"";return{c(){n=u("div"),t=u("p"),r=m(v),o=d(),s=u("p"),c=m(g),f=d(),h(s,"class","bar svelte-9phtjd"),h(s,"style",p=`width: ${Math.floor(e[9]/e[2]*100)}%`),h(n,"class","row svelte-9phtjd")},m(e,l){i(e,n,l),a(n,t),a(t,r),a(n,o),a(n,s),a(s,c),a(n,f)},p(e,n){2&n&&v!==(v=e[8]+"")&&w(r,v),2&n&&g!==(g=e[9]+"")&&w(c,g),6&n&&p!==(p=`width: ${Math.floor(e[9]/e[2]*100)}%`)&&h(s,"style",p)},d(e){e&&l(n)}}}function _e(n){let t,r,o,s,h,v,g,_,b,$,y,k,z,x,C,S,T,N,E,P,A,L=n[4]?.title.replaceAll("_"," ")+"",M=n[4]?.score+"",j=n[1].sort(be),I=[];for(let e=0;e<j.length;e+=1)I[e]=ge(ve(n,j,e));return{c(){t=u("button"),t.textContent="Back",r=d(),o=u("ul"),s=u("li"),h=m("Your best puzzle was "),v=u("em"),g=m(L),_=m(" which you got in "),b=m(M),$=m(" reveals!"),y=d(),k=u("li"),z=m("Your average score is "),x=m(n[3]),C=m(" reveals."),S=d(),T=u("p"),T.textContent="Distribution:",N=d();for(let e=0;e<I.length;e+=1)I[e].c();E=p()},m(e,l){i(e,t,l),i(e,r,l),i(e,o,l),a(o,s),a(s,h),a(s,v),a(v,g),a(s,_),a(s,b),a(s,$),a(o,y),a(o,k),a(k,z),a(k,x),a(k,C),i(e,S,l),i(e,T,l),i(e,N,l);for(let n=0;n<I.length;n+=1)I[n].m(e,l);i(e,E,l),P||(A=f(t,"click",n[7]),P=!0)},p(e,[n]){if(16&n&&L!==(L=e[4]?.title.replaceAll("_"," ")+"")&&w(g,L),16&n&&M!==(M=e[4]?.score+"")&&w(b,M),8&n&&w(x,e[3]),6&n){let t;for(j=e[1].sort(be),t=0;t<j.length;t+=1){const r=ve(e,j,t);I[t]?I[t].p(r,n):(I[t]=ge(r),I[t].c(),I[t].m(E.parentNode,E))}for(;t<I.length;t+=1)I[t].d(1);I.length=j.length}},i:e,o:e,d(e){e&&l(t),e&&l(r),e&&l(o),e&&l(S),e&&l(T),e&&l(N),c(I,e),e&&l(E),P=!1,A()}}}const be=(e,n)=>e.reveals-n.reveals;function $e(e,n,t){let r,o,s,a;var i;let{current_page:l}=n,{completed_puzzles:c}=n;return e.$$set=e=>{"current_page"in e&&t(0,l=e.current_page),"completed_puzzles"in e&&t(5,c=e.completed_puzzles)},e.$$.update=()=>{32&e.$$.dirty&&t(4,r=c.sort(((e,n)=>e.score-n.score))[0]),32&e.$$.dirty&&t(3,o=function(e){return(e.reduce(((e,n)=>e+n.score),0)/e.length).toFixed(1)}(c)),32&e.$$.dirty&&t(1,s=function(e){const n={};e.forEach((({score:e})=>{void 0===n[e]&&(n[e]=0),n[e]++}));const t=[];for(let e in n)t.push({reveals:Number(e),count:n[e]});return t}(c)),66&e.$$.dirty&&t(2,a=null===t(6,i=s.sort(((e,n)=>n.count-e.count))[0])||void 0===i?void 0:i.count)},[l,s,a,o,r,c,i,()=>{t(0,l="guess")}]}class ye extends Y{constructor(e){super(),U(this,e,$e,_e,s,{current_page:0,completed_puzzles:5})}}function ke(e,n,t){const r=e.slice();return r[17]=n[t],r[19]=t,r}function ze(e){let n,t,r,o,s,a,c,m,p=e[0].length>0&&Se(e);function h(n){e[14](n)}let w={puzzle:e[3],revealed_words:e[1],turn_is_guess:e[2]};return void 0!==e[0]&&(w.completed_puzzles=e[0]),o=new he({props:w}),k.push((()=>D(o,"completed_puzzles",h))),{c(){n=u("button"),n.textContent="Change Puzzle",t=d(),p&&p.c(),r=d(),O(o.$$.fragment)},m(s,l){i(s,n,l),i(s,t,l),p&&p.m(s,l),i(s,r,l),G(o,s,l),a=!0,c||(m=f(n,"click",e[12]),c=!0)},p(e,n){e[0].length>0?p?p.p(e,n):(p=Se(e),p.c(),p.m(r.parentNode,r)):p&&(p.d(1),p=null);const t={};8&n&&(t.puzzle=e[3]),2&n&&(t.revealed_words=e[1]),4&n&&(t.turn_is_guess=e[2]),!s&&1&n&&(s=!0,t.completed_puzzles=e[0],N((()=>s=!1))),o.$set(t)},i(e){a||(B(o.$$.fragment,e),a=!0)},o(e){R(o.$$.fragment,e),a=!1},d(e){e&&l(n),e&&l(t),p&&p.d(e),e&&l(r),H(o,e),c=!1,m()}}}function xe(e){let n,t,r;function o(n){e[11](n)}let s={completed_puzzles:e[0]};return void 0!==e[4]&&(s.current_page=e[4]),n=new ye({props:s}),k.push((()=>D(n,"current_page",o))),{c(){O(n.$$.fragment)},m(e,t){G(n,e,t),r=!0},p(e,r){const o={};1&r&&(o.completed_puzzles=e[0]),!t&&16&r&&(t=!0,o.current_page=e[4],N((()=>t=!1))),n.$set(o)},i(e){r||(B(n.$$.fragment,e),r=!0)},o(e){R(n.$$.fragment,e),r=!1},d(e){H(n,e)}}}function Ce(n){let t,r,o=n[0].length>0&&Te(n),s=n[6],a=[];for(let e=0;e<s.length;e+=1)a[e]=Ne(ke(n,s,e));return{c(){o&&o.c(),t=d();for(let e=0;e<a.length;e+=1)a[e].c();r=p()},m(e,n){o&&o.m(e,n),i(e,t,n);for(let t=0;t<a.length;t+=1)a[t].m(e,n);i(e,r,n)},p(e,n){if(e[0].length>0?o?o.p(e,n):(o=Te(e),o.c(),o.m(t.parentNode,t)):o&&(o.d(1),o=null),448&n){let t;for(s=e[6],t=0;t<s.length;t+=1){const o=ke(e,s,t);a[t]?a[t].p(o,n):(a[t]=Ne(o),a[t].c(),a[t].m(r.parentNode,r))}for(;t<a.length;t+=1)a[t].d(1);a.length=s.length}},i:e,o:e,d(e){o&&o.d(e),e&&l(t),c(a,e),e&&l(r)}}}function Se(n){let t,r,o;return{c(){t=u("button"),t.textContent="Show Stats"},m(e,s){i(e,t,s),r||(o=f(t,"click",n[13]),r=!0)},p:e,d(e){e&&l(t),r=!1,o()}}}function Te(n){let t,r,o,s;return{c(){var e,n,o,s;t=u("div"),r=u("button"),r.textContent="Show Stats",e=t,n="margin-bottom",null===(o=".75rem")?e.style.removeProperty(n):e.style.setProperty(n,o,s?"important":"")},m(e,l){i(e,t,l),a(t,r),o||(s=f(r,"click",n[9]),o=!0)},p:e,d(e){e&&l(t),o=!1,s()}}}function Ne(e){let n,t,r,o,s,c,p=e[6].length-e[19]+"";function h(){return e[10](e[19])}return{c(){n=u("button"),t=m(p),r=d(),n.disabled=o=e[8](e[6][e[6].length-e[19]-1].name)},m(e,o){i(e,n,o),a(n,t),a(n,r),s||(c=f(n,"click",h),s=!0)},p(n,t){e=n},d(e){e&&l(n),s=!1,c()}}}function Ee(e){let n,t,r;function o(n){e[15](n)}let s={};return void 0!==e[5]&&(s.show_intro=e[5]),n=new V({props:s}),k.push((()=>D(n,"show_intro",o))),{c(){O(n.$$.fragment)},m(e,t){G(n,e,t),r=!0},p(e,r){const o={};!t&&32&r&&(t=!0,o.show_intro=e[5],N((()=>t=!1))),n.$set(o)},i(e){r||(B(n.$$.fragment,e),r=!0)},o(e){R(n.$$.fragment,e),r=!1},d(e){H(n,e)}}}function Pe(e){let n,t,r,o,s,a=!localStorage.getItem("is_subsequent_visit")&&e[5];const c=[Ce,xe,ze],u=[];function m(e,n){return"change"===e[4]?0:"stats"===e[4]?1:2}n=m(e),t=u[n]=c[n](e);let f=a&&Ee(e);return{c(){t.c(),r=d(),f&&f.c(),o=p()},m(e,t){u[n].m(e,t),i(e,r,t),f&&f.m(e,t),i(e,o,t),s=!0},p(e,[s]){let i=n;n=m(e),n===i?u[n].p(e,s):(I(),R(u[i],1,1,(()=>{u[i]=null})),W(),t=u[n],t?t.p(e,s):(t=u[n]=c[n](e),t.c()),B(t,1),t.m(r.parentNode,r)),32&s&&(a=!localStorage.getItem("is_subsequent_visit")&&e[5]),a?f?(f.p(e,s),32&s&&B(f,1)):(f=Ee(e),f.c(),B(f,1),f.m(o.parentNode,o)):f&&(I(),R(f,1,1,(()=>{f=null})),W())},i(e){s||(B(t),B(f),s=!0)},o(e){R(t),R(f),s=!1},d(e){u[n].d(e),e&&l(r),f&&f.d(e),e&&l(o)}}}function Ae(e,n,t){let r=function(){const e=oe("completed_puzzles",[]);return"string"==typeof e[0]?[]:e}(),o=oe("revealed_words",[]),s=Boolean(localStorage.getItem("turn_is_guess")),a=oe("current_puzzle",ee),i=(l=a,console.log(l),we[l]||we[we.length-1]);var l;let c=p(i.name)?"change":"guess",u=we.slice(0,ee+1),m=!0;function d(e,n){t(3,i=e),t(1,o=[]),t(2,s=!1),t(4,c="guess"),function(e){re("current_puzzle",e.toString())}(n),ne(o),te(s)}function p(e){return r.some((n=>n.title===e))}window.change_puzzle=function(e){d(we[e],e)};return[r,o,s,i,c,m,u,d,p,()=>{t(4,c="stats")},e=>{d(u[u.length-e-1],u.length-e-1)},function(e){c=e,t(4,c)},()=>{t(4,c="change")},()=>{t(4,c="stats")},function(e){r=e,t(0,r)},function(e){m=e,t(5,m)}]}return new class extends Y{constructor(e){super(),U(this,e,Ae,Pe,s,{})}}({target:document.body,props:{}})}();
//# sourceMappingURL=bundle.js.map
