var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function r(e){e.forEach(t)}function o(e){return"function"==typeof e}function s(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function a(e,t){e.appendChild(t)}function l(e,t,n){e.insertBefore(t,n||null)}function i(e){e.parentNode.removeChild(e)}function c(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function u(e){return document.createElement(e)}function m(e){return document.createTextNode(e)}function d(){return m(" ")}function p(){return m("")}function f(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function h(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function w(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function g(e,t){e.value=null==t?"":t}function v(e,t,n){e.classList[n?"add":"remove"](t)}let _;function $(e){_=e}function b(){if(!_)throw new Error("Function called outside component initialization");return _}const y=[],k=[],z=[],x=[],C=Promise.resolve();let S=!1;function N(e){z.push(e)}function T(e){x.push(e)}const A=new Set;let E=0;function P(){const e=_;do{for(;E<y.length;){const e=y[E];E++,$(e),L(e.$$)}for($(null),y.length=0,E=0;k.length;)k.pop()();for(let e=0;e<z.length;e+=1){const t=z[e];A.has(t)||(A.add(t),t())}z.length=0}while(y.length);for(;x.length;)x.pop()();S=!1,A.clear(),$(e)}function L(e){if(null!==e.fragment){e.update(),r(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(N)}}const M=new Set;let j;function I(){j={r:0,c:[],p:j}}function W(){j.r||r(j.c),j=j.p}function q(e,t){e&&e.i&&(M.delete(e),e.i(t))}function B(e,t,n,r){if(e&&e.o){if(M.has(e))return;M.add(e),j.c.push((()=>{M.delete(e),r&&(n&&e.d(1),r())})),e.o(t)}}function D(e,t){const n=t.token={};function r(e,r,o,s){if(t.token!==n)return;t.resolved=s;let a=t.ctx;void 0!==o&&(a=a.slice(),a[o]=s);const l=e&&(t.current=e)(a);let i=!1;t.block&&(t.blocks?t.blocks.forEach(((e,n)=>{n!==r&&e&&(I(),B(e,1,1,(()=>{t.blocks[n]===e&&(t.blocks[n]=null)})),W())})):t.block.d(1),l.c(),q(l,1),l.m(t.mount(),t.anchor),i=!0),t.block=l,t.blocks&&(t.blocks[r]=l),i&&P()}if((o=e)&&"object"==typeof o&&"function"==typeof o.then){const n=b();if(e.then((e=>{$(n),r(t.then,1,t.value,e),$(null)}),(e=>{if($(n),r(t.catch,2,t.error,e),$(null),!t.hasCatch)throw e})),t.current!==t.pending)return r(t.pending,0),!0}else{if(t.current!==t.then)return r(t.then,1,t.value,e),!0;t.resolved=e}var o}function G(e,t,n){const r=e.$$.props[t];void 0!==r&&(e.$$.bound[r]=n,n(e.$$.ctx[r]))}function O(e){e&&e.c()}function J(e,n,s,a){const{fragment:l,on_mount:i,on_destroy:c,after_update:u}=e.$$;l&&l.m(n,s),a||N((()=>{const n=i.map(t).filter(o);c?c.push(...n):r(n),e.$$.on_mount=[]})),u.forEach(N)}function R(e,t){const n=e.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function H(e,t){-1===e.$$.dirty[0]&&(y.push(e),S||(S=!0,C.then(P)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function U(t,o,s,a,l,c,u,m=[-1]){const d=_;$(t);const p=t.$$={fragment:null,ctx:null,props:c,update:e,not_equal:l,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(o.context||(d?d.$$.context:[])),callbacks:n(),dirty:m,skip_bound:!1,root:o.target||d.$$.root};u&&u(p.root);let f=!1;if(p.ctx=s?s(t,o.props||{},((e,n,...r)=>{const o=r.length?r[0]:n;return p.ctx&&l(p.ctx[e],p.ctx[e]=o)&&(!p.skip_bound&&p.bound[e]&&p.bound[e](o),f&&H(t,e)),n})):[],p.update(),f=!0,r(p.before_update),p.fragment=!!a&&a(p.ctx),o.target){if(o.hydrate){const e=function(e){return Array.from(e.childNodes)}(o.target);p.fragment&&p.fragment.l(e),e.forEach(i)}else p.fragment&&p.fragment.c();o.intro&&q(t.$$.fragment),J(t,o.target,o.anchor,o.customElement),P()}$(d)}class Y{$destroy(){R(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function F(t){let n,r,o,s,c,m,p,w,g,v;return{c(){n=u("div"),r=u("h2"),r.textContent="Welcome to Wikiguessr!",o=d(),s=u("p"),s.textContent="The object of the game is to guess the title of a Wikipedia article, based on the the words that appear the most frequently in it.",c=d(),m=u("ul"),m.innerHTML="<li>Common filler words are removed.</li> \n    <li>You must reveal at least one word before each guess.</li> \n    <li>A new puzzle is released every day!</li>",p=d(),w=u("button"),w.textContent="Close this message",h(m,"class","svelte-szjdro"),h(n,"class","win")},m(e,i){l(e,n,i),a(n,r),a(n,o),a(n,s),a(n,c),a(n,m),a(n,p),a(n,w),g||(v=f(w,"click",t[0]),g=!0)},p:e,i:e,o:e,d(e){e&&i(n),g=!1,v()}}}function Z(e,t,n){let{show_intro:r}=t;return e.$$set=e=>{"show_intro"in e&&n(1,r=e.show_intro)},[function(){n(1,r=!1),localStorage.setItem("is_subsequent_visit","true")},r]}class V extends Y{constructor(e){super(),U(this,e,Z,F,s,{show_intro:1})}}const K=["the","to","a","and","in","of","are","or","is","for","be","on","was","with","by","as","at","it","has","an","has","its","from","but","have","that","can","also","this","were","had","which","would","after","year","'s"];function Q(e,t,n){const r=function(e,t){let n;return t.split(" ").forEach((t=>{const r=new RegExp(t,"g");n=e.replace(r,"")})),n.match(/(\w|')+/g)}(e.extract,t),o=function(e){return e.reduce(((e,t)=>e.set(t.toLowerCase(),(e.get(t.toLowerCase())||0)+1)),new Map)}(r),s=[...o.entries()].filter((e=>![...n.answers,...n.remove,...K].includes(e[0]))),a=n.name.split("_"),l=s.filter((e=>{for(let t of a){if(t.length<4)continue;if(new RegExp(`${t.toLowerCase()}`).test(e[0]))return!1}return!0}));let i;return i=l.length>144?l.slice(0,144):l,i.sort(((e,t)=>t[1]-e[1])),i}const X=new Date("2022-05-15"),ee=Math.floor(((new Date).getTime()-X.getTime())/864e5);function te(e){re("revealed_words",JSON.stringify(e))}function ne(e){e?re("turn_is_guess","1"):localStorage.removeItem("turn_is_guess")}function re(e,t){localStorage.setItem(e,t)}function oe(e,t){return localStorage.getItem(e)?JSON.parse(localStorage.getItem(e)):t}function se(e,t,n){const r=e.slice();return r[20]=t[n][0],r[22]=n,r}function ae(t){return{c:e,m:e,p:e,d:e}}function le(e){let t,n=e[19],r=[];for(let t=0;t<n.length;t+=1)r[t]=ue(se(e,n,t));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=p()},m(e,n){for(let t=0;t<r.length;t+=1)r[t].m(e,n);l(e,t,n)},p(e,o){if(769&o){let s;for(n=e[19],s=0;s<n.length;s+=1){const a=se(e,n,s);r[s]?r[s].p(a,o):(r[s]=ue(a),r[s].c(),r[s].m(t.parentNode,t))}for(;s<r.length;s+=1)r[s].d(1);r.length=n.length}},d(e){c(r,e),e&&i(t)}}}function ie(e){let t,n,r;function o(){return e[14](e[20])}return{c(){t=u("button"),t.textContent="Reveal\r\n    "},m(e,s){l(e,t,s),n||(r=f(t,"click",o),n=!0)},p(t,n){e=t},d(e){e&&i(t),n=!1,r()}}}function ce(e){let t,n,r=e[20]+"";return{c(){t=u("p"),n=m(r)},m(e,r){l(e,t,r),a(t,n)},p(e,t){256&t&&r!==(r=e[20]+"")&&w(n,r)},d(e){e&&i(t)}}}function ue(e){let t,n,r,o,s,c=e[22]+1+"";function f(e,t){return 257&t&&(o=null),null==o&&(o=!!e[0].includes(e[20])),o?ce:ie}let h=f(e,-1),w=h(e);return{c(){t=u("p"),n=m(c),r=d(),w.c(),s=p()},m(e,o){l(e,t,o),a(t,n),l(e,r,o),w.m(e,o),l(e,s,o)},p(e,t){h===(h=f(e,t))&&w?w.p(e,t):(w.d(1),w=h(e),w&&(w.c(),w.m(s.parentNode,s)))},d(e){e&&i(t),e&&i(r),w.d(e),e&&i(s)}}}function me(t){let n;return{c(){n=m("Loading...")},m(e,t){l(e,n,t)},p:e,d(e){e&&i(n)}}}function de(e){let t,n,r,o,s,c,p,g,v,_,$,b,y,k,z,x,C,S,N=e[0].length+"";return{c(){t=u("div"),n=u("h1"),n.textContent="Congratulations!",r=d(),o=u("p"),s=u("a"),c=m(e[3]),g=m("\r\n  was the correct answer."),v=d(),_=u("p"),$=m("It took you "),b=m(N),y=m(" reveals to get the answer."),k=d(),z=u("p"),x=u("button"),x.textContent="Close",h(s,"href",p=`https://en.wikipedia.org/wiki/${e[1].name}`),h(s,"target","_blank"),h(t,"class","win")},m(i,u){l(i,t,u),a(t,n),a(t,r),a(t,o),a(o,s),a(s,c),a(o,g),a(t,v),a(t,_),a(_,$),a(_,b),a(_,y),a(t,k),a(t,z),a(z,x),C||(S=f(x,"click",e[15]),C=!0)},p(e,t){8&t&&w(c,e[3]),2&t&&p!==(p=`https://en.wikipedia.org/wiki/${e[1].name}`)&&h(s,"href",p),1&t&&N!==(N=e[0].length+"")&&w(b,N)},d(e){e&&i(t),C=!1,S()}}}function pe(t){let n,o,s,c,_,$,b,y,k,z,x,C,S,N=t[0].length+"",T={ctx:t,current:null,token:null,hasCatch:!1,pending:me,then:le,catch:ae,value:19};D(k=t[8],T);let A=t[4]&&de(t);return{c(){n=u("form"),o=u("input"),s=d(),c=u("p"),_=m("Words Revealed: "),$=m(N),b=d(),y=u("div"),T.block.c(),z=d(),A&&A.c(),x=p(),h(o,"type","text"),h(o,"placeholder",t[7]),o.disabled=t[6],v(o,"wrong",t[5]),h(n,"class","guesser"),h(y,"class","cont")},m(e,r){var i;l(e,n,r),a(n,o),g(o,t[2]),a(n,s),a(n,c),a(c,_),a(c,$),l(e,b,r),l(e,y,r),T.block.m(y,T.anchor=null),T.mount=()=>y,T.anchor=null,l(e,z,r),A&&A.m(e,r),l(e,x,r),C||(S=[f(o,"input",t[13]),f(n,"submit",(i=t[10],function(e){return e.preventDefault(),i.call(this,e)}))],C=!0)},p(e,[n]){t=e,128&n&&h(o,"placeholder",t[7]),64&n&&(o.disabled=t[6]),4&n&&o.value!==t[2]&&g(o,t[2]),32&n&&v(o,"wrong",t[5]),1&n&&N!==(N=t[0].length+"")&&w($,N),T.ctx=t,256&n&&k!==(k=t[8])&&D(k,T)||function(e,t,n){const r=t.slice(),{resolved:o}=e;e.current===e.then&&(r[e.value]=o),e.current===e.catch&&(r[e.error]=o),e.block.p(r,n)}(T,t,n),t[4]?A?A.p(t,n):(A=de(t),A.c(),A.m(x.parentNode,x)):A&&(A.d(1),A=null)},i:e,o:e,d(e){e&&i(n),e&&i(b),e&&i(y),T.block.d(),T.token=null,T=null,e&&i(z),A&&A.d(e),e&&i(x),C=!1,r(S)}}}function fe(e,t,n){let r,o,s,{puzzle:a}=t,{revealed_words:l}=t,{turn_is_guess:i}=t,{completed_puzzles:c}=t,u="",m="",d=!1,p=!1;async function f(e){console.log("loading",e);const t=await async function(e){const t=`https://en.wikipedia.org/w/api.php?action=query&prop=extracts&titles=${e}&explaintext=1&formatversion=2&exsectionformat=plain&format=json&origin=*`,n=await fetch(t);if(!n.ok)throw Error(n.statusText);return(await n.json()).query.pages[0]}(e);return n(3,m=t.title),Q(t,m,a)}function h(e){n(0,l=[...l,e]),te(l),n(11,i=!0),ne(i)}function w(){n(4,d=!0),c.push({title:a.name,score:l.length}),function(e){re("completed_puzzles",JSON.stringify(e))}(c)}return e.$$set=e=>{"puzzle"in e&&n(1,a=e.puzzle),"revealed_words"in e&&n(0,l=e.revealed_words),"turn_is_guess"in e&&n(11,i=e.turn_is_guess),"completed_puzzles"in e&&n(12,c=e.completed_puzzles)},e.$$.update=()=>{2&e.$$.dirty&&n(8,r=f(a.name)),2048&e.$$.dirty&&n(7,o=i?"Make a Guess":"Reveal a Word"),2048&e.$$.dirty&&n(6,s=!i)},[l,a,u,m,d,p,s,o,r,h,function(){u.toLowerCase().trim()===m.toLowerCase()||a.answers.includes(u.toLowerCase())?w():(n(5,p=!0),setTimeout((()=>{n(2,u=""),n(11,i=!1),n(5,p=!1)}),500))},i,c,function(){u=this.value,n(2,u)},e=>{h(e)},()=>{n(4,d=!1)}]}class he extends Y{constructor(e){super(),U(this,e,fe,pe,s,{puzzle:1,revealed_words:0,turn_is_guess:11,completed_puzzles:12})}}const we=[{name:"Pet_door",answers:[],remove:[]},{name:"Valencia",answers:[],remove:["val","ncia","c","f","1","2"]},{name:"Adolf_Hitler",answers:[],remove:[]},{name:"Harry_Styles",answers:[],remove:[]},{name:"Donald_Trump",answers:[],remove:[]},{name:"Colorado",answers:[],remove:[]},{name:"Tornado",answers:["tornadoes"],remove:["tornado","tornadoes"]},{name:"Nebraska",answers:[],remove:[]},{name:"Yahtzee",answers:["yatzee"],remove:[]},{name:"Joan_of_Arc",answers:[],remove:["joan","joan's"]},{name:"Turtle",answers:["turtles"],remove:["turtles","turtle"]},{name:"Ludwig_van_Beethoven",answers:["beethoven"],remove:[]},{name:"Polio",answers:[],remove:["polio","poliovirus"]},{name:"Africa",answers:[],remove:["n","000","1"]},{name:"Whale_shark",answers:[],remove:["whale","s","m"]},{name:"SeaWorld",answers:["sea world"],remove:["sea","world"]},{name:"Chicken",answers:[],remove:["s","chickens","chicken"]},{name:"Jupiter",answers:[],remove:["000"]},{name:"Toast_(food)",answers:["toast"],remove:[]},{name:"Monopoly_(game)",answers:["monopoly"],remove:[]},{name:"SpongeBob_SquarePants",answers:["spongebob","sponge bob"],remove:[]},{name:"First_Amendment_to_the_United_States_Constitution",answers:["first amendment","1st amendment"],remove:[]},{name:"Mary_Had_a_Little_Lamb",answers:["mary had a little lamb"],remove:[]},{name:"Beyoncé",answers:["beyonce"],remove:[]},{name:"Walt_Disney",answers:["walt disney"],remove:[]},{name:"Spanish_Inquisition",answers:["spanish inquisition"],remove:[]},{name:"Phil_McGraw",answers:["dr phil","doctor phil"],remove:[]},{name:"A_Tale_of_Two_Cities",answers:["a tale of two cities","tale of two cities"],remove:[]},{name:"Uptown_Funk",answers:["uptown funk"],remove:[]},{name:"IPhone",answers:[],remove:[]},{name:"Bible",answers:["the bible"],remove:[]},{name:"Stephen_Hawking",answers:["steven hawking","stephen hawkin","stephen hawkings"],remove:[]},{name:"Chernobyl_disaster",answers:["chernobyl","chernoble","chernobel"],remove:[]},{name:"Mark_Zuckerberg",answers:[],remove:[]},{name:"Paris",answers:[],remove:[]},{name:"John Cena",answers:["john sena"],remove:[]},{name:"Albert_Einstein",answers:["einstein","einstien"],remove:[]},{name:"Darth_Vader",answers:["lord vader"],remove:[]},{name:"Australia",answers:[],remove:[]},{name:"Top_Gun",answers:[],remove:["top"]},{name:"Penguin",answers:[],remove:[]},{name:"Bill_Gates",answers:[],remove:[]},{name:"Stranger_Things",answers:[],remove:[]},{name:"Wikipedia",answers:[],remove:[]},{name:"Elvis_Presley",answers:["elvis"],remove:[]},{name:"Gmail",answers:[],remove:[]},{name:"Cat",answers:[],remove:[]},{name:"Netflix",answers:[],remove:[]},{name:"Mona_Lisa",answers:[],remove:[]},{name:"Theodore_Roosevelt",answers:["teddy roosevelt"],remove:[]},{name:"Corvus",answers:["crow"],remove:[]},{name:"Zendaya",answers:[],remove:[]},{name:"Nancy_Pelosi",answers:[],remove:[]},{name:"Minecraft",answers:[],remove:[]},{name:"Scientology",answers:[],remove:[]},{name:"Twitter",answers:[],remove:[]},{name:"New_Zealand",answers:[],remove:[]},{name:"Wordle",answers:[],remove:[]},{name:"Nicolas Cage",answers:["nick cage","nicholas cage"],remove:[]},{name:"Avatar_(2009_film)",answers:["avatar"],remove:[]},{name:"Twitch_(service)",answers:["twitch"],remove:[]},{name:"Titanic",answers:["the titanic"],remove:[]},{name:"Greek_alphabet",answers:["greek letters"],remove:[]},{name:"NATO_phonetic_alphabet",answers:["phonetic alphabet","nato alphabet"],remove:[]},{name:"Dodgeball:_A_True_Underdog_Story",answers:["dodgeball"],remove:[]},{name:"Zeus",answers:["zeus"],remove:[]},{name:"American_Civil_War",answers:["civil war","the civil war"],remove:[]},{name:"Lego",answers:["legos"],remove:["legoland"]},{name:"Beer",answers:[],remove:[]},{name:"Maple",answers:["maple tree"],remove:[]},{name:"Yellowstone_National_Park",answers:["yellowstone"],remove:[]},{name:"Pelican",answers:[],remove:[]},{name:"Pluto",answers:[],remove:[]},{name:"Kiss_(band)",answers:["kiss"],remove:[]},{name:"The_Godfather",answers:["godfather"],remove:[]},{name:"Utah",answers:[],remove:[]},{name:"Prohibition_in_the_United_States",answers:["prohibition"],remove:[]}];function ge(e,t,n){const r=e.slice();return r[8]=t[n].reveals,r[9]=t[n].count,r}function ve(e){let t,n,r,o,s,c,p,f,g=e[8]+"",v=e[9]+"";return{c(){t=u("div"),n=u("p"),r=m(g),o=d(),s=u("p"),c=m(v),f=d(),h(s,"class","bar svelte-9phtjd"),h(s,"style",p=`width: ${Math.floor(e[9]/e[2]*100)}%`),h(t,"class","row svelte-9phtjd")},m(e,i){l(e,t,i),a(t,n),a(n,r),a(t,o),a(t,s),a(s,c),a(t,f)},p(e,t){2&t&&g!==(g=e[8]+"")&&w(r,g),2&t&&v!==(v=e[9]+"")&&w(c,v),6&t&&p!==(p=`width: ${Math.floor(e[9]/e[2]*100)}%`)&&h(s,"style",p)},d(e){e&&i(t)}}}function _e(t){let n,r,o,s,h,g,v,_,$,b,y,k,z,x,C,S,N,T,A,E,P,L=t[4]?.title.replaceAll("_"," ")+"",M=t[4]?.score+"",j=t[1].sort($e),I=[];for(let e=0;e<j.length;e+=1)I[e]=ve(ge(t,j,e));return{c(){n=u("button"),n.textContent="Back",r=d(),o=u("ul"),s=u("li"),h=m("Your best puzzle was "),g=u("em"),v=m(L),_=m(" which you got in "),$=m(M),b=m(" reveals!"),y=d(),k=u("li"),z=m("Your average score is "),x=m(t[3]),C=m(" reveals."),S=d(),N=u("p"),N.textContent="Distribution:",T=d();for(let e=0;e<I.length;e+=1)I[e].c();A=p()},m(e,i){l(e,n,i),l(e,r,i),l(e,o,i),a(o,s),a(s,h),a(s,g),a(g,v),a(s,_),a(s,$),a(s,b),a(o,y),a(o,k),a(k,z),a(k,x),a(k,C),l(e,S,i),l(e,N,i),l(e,T,i);for(let t=0;t<I.length;t+=1)I[t].m(e,i);l(e,A,i),E||(P=f(n,"click",t[7]),E=!0)},p(e,[t]){if(16&t&&L!==(L=e[4]?.title.replaceAll("_"," ")+"")&&w(v,L),16&t&&M!==(M=e[4]?.score+"")&&w($,M),8&t&&w(x,e[3]),6&t){let n;for(j=e[1].sort($e),n=0;n<j.length;n+=1){const r=ge(e,j,n);I[n]?I[n].p(r,t):(I[n]=ve(r),I[n].c(),I[n].m(A.parentNode,A))}for(;n<I.length;n+=1)I[n].d(1);I.length=j.length}},i:e,o:e,d(e){e&&i(n),e&&i(r),e&&i(o),e&&i(S),e&&i(N),e&&i(T),c(I,e),e&&i(A),E=!1,P()}}}const $e=(e,t)=>e.reveals-t.reveals;function be(e,t,n){let r,o,s,a;var l;let{current_page:i}=t,{completed_puzzles:c}=t;return e.$$set=e=>{"current_page"in e&&n(0,i=e.current_page),"completed_puzzles"in e&&n(5,c=e.completed_puzzles)},e.$$.update=()=>{32&e.$$.dirty&&n(4,r=c.sort(((e,t)=>e.score-t.score))[0]),32&e.$$.dirty&&n(3,o=function(e){return(e.reduce(((e,t)=>e+t.score),0)/e.length).toFixed(1)}(c)),32&e.$$.dirty&&n(1,s=function(e){const t={};e.forEach((({score:e})=>{void 0===t[e]&&(t[e]=0),t[e]++}));const n=[];for(let e in t)n.push({reveals:Number(e),count:t[e]});return n}(c)),66&e.$$.dirty&&n(2,a=null===n(6,l=s.sort(((e,t)=>t.count-e.count))[0])||void 0===l?void 0:l.count)},[i,s,a,o,r,c,l,()=>{n(0,i="guess")}]}class ye extends Y{constructor(e){super(),U(this,e,be,_e,s,{current_page:0,completed_puzzles:5})}}function ke(e,t,n){const r=e.slice();return r[17]=t[n],r[19]=n,r}function ze(e){let t,n,r,o,s,a,c,m,p=e[0].length>0&&Se(e);function h(t){e[14](t)}let w={puzzle:e[3],revealed_words:e[1],turn_is_guess:e[2]};return void 0!==e[0]&&(w.completed_puzzles=e[0]),o=new he({props:w}),k.push((()=>G(o,"completed_puzzles",h))),{c(){t=u("button"),t.textContent="Change Puzzle",n=d(),p&&p.c(),r=d(),O(o.$$.fragment)},m(s,i){l(s,t,i),l(s,n,i),p&&p.m(s,i),l(s,r,i),J(o,s,i),a=!0,c||(m=f(t,"click",e[12]),c=!0)},p(e,t){e[0].length>0?p?p.p(e,t):(p=Se(e),p.c(),p.m(r.parentNode,r)):p&&(p.d(1),p=null);const n={};8&t&&(n.puzzle=e[3]),2&t&&(n.revealed_words=e[1]),4&t&&(n.turn_is_guess=e[2]),!s&&1&t&&(s=!0,n.completed_puzzles=e[0],T((()=>s=!1))),o.$set(n)},i(e){a||(q(o.$$.fragment,e),a=!0)},o(e){B(o.$$.fragment,e),a=!1},d(e){e&&i(t),e&&i(n),p&&p.d(e),e&&i(r),R(o,e),c=!1,m()}}}function xe(e){let t,n,r;function o(t){e[11](t)}let s={completed_puzzles:e[0]};return void 0!==e[4]&&(s.current_page=e[4]),t=new ye({props:s}),k.push((()=>G(t,"current_page",o))),{c(){O(t.$$.fragment)},m(e,n){J(t,e,n),r=!0},p(e,r){const o={};1&r&&(o.completed_puzzles=e[0]),!n&&16&r&&(n=!0,o.current_page=e[4],T((()=>n=!1))),t.$set(o)},i(e){r||(q(t.$$.fragment,e),r=!0)},o(e){B(t.$$.fragment,e),r=!1},d(e){R(t,e)}}}function Ce(t){let n,r,o=t[0].length>0&&Ne(t),s=t[6],a=[];for(let e=0;e<s.length;e+=1)a[e]=Te(ke(t,s,e));return{c(){o&&o.c(),n=d();for(let e=0;e<a.length;e+=1)a[e].c();r=p()},m(e,t){o&&o.m(e,t),l(e,n,t);for(let n=0;n<a.length;n+=1)a[n].m(e,t);l(e,r,t)},p(e,t){if(e[0].length>0?o?o.p(e,t):(o=Ne(e),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null),448&t){let n;for(s=e[6],n=0;n<s.length;n+=1){const o=ke(e,s,n);a[n]?a[n].p(o,t):(a[n]=Te(o),a[n].c(),a[n].m(r.parentNode,r))}for(;n<a.length;n+=1)a[n].d(1);a.length=s.length}},i:e,o:e,d(e){o&&o.d(e),e&&i(n),c(a,e),e&&i(r)}}}function Se(t){let n,r,o;return{c(){n=u("button"),n.textContent="Show Stats"},m(e,s){l(e,n,s),r||(o=f(n,"click",t[13]),r=!0)},p:e,d(e){e&&i(n),r=!1,o()}}}function Ne(t){let n,r,o,s;return{c(){var e,t,o,s;n=u("div"),r=u("button"),r.textContent="Show Stats",e=n,t="margin-bottom",null===(o=".75rem")?e.style.removeProperty(t):e.style.setProperty(t,o,s?"important":"")},m(e,i){l(e,n,i),a(n,r),o||(s=f(r,"click",t[9]),o=!0)},p:e,d(e){e&&i(n),o=!1,s()}}}function Te(e){let t,n,r,o,s,c,p=e[6].length-e[19]+"";function h(){return e[10](e[19])}return{c(){t=u("button"),n=m(p),r=d(),t.disabled=o=e[8](e[6][e[6].length-e[19]-1].name)},m(e,o){l(e,t,o),a(t,n),a(t,r),s||(c=f(t,"click",h),s=!0)},p(t,n){e=t},d(e){e&&i(t),s=!1,c()}}}function Ae(e){let t,n,r;function o(t){e[15](t)}let s={};return void 0!==e[5]&&(s.show_intro=e[5]),t=new V({props:s}),k.push((()=>G(t,"show_intro",o))),{c(){O(t.$$.fragment)},m(e,n){J(t,e,n),r=!0},p(e,r){const o={};!n&&32&r&&(n=!0,o.show_intro=e[5],T((()=>n=!1))),t.$set(o)},i(e){r||(q(t.$$.fragment,e),r=!0)},o(e){B(t.$$.fragment,e),r=!1},d(e){R(t,e)}}}function Ee(e){let t,n,r,o,s,a=!localStorage.getItem("is_subsequent_visit")&&e[5];const c=[Ce,xe,ze],u=[];function m(e,t){return"change"===e[4]?0:"stats"===e[4]?1:2}t=m(e),n=u[t]=c[t](e);let f=a&&Ae(e);return{c(){n.c(),r=d(),f&&f.c(),o=p()},m(e,n){u[t].m(e,n),l(e,r,n),f&&f.m(e,n),l(e,o,n),s=!0},p(e,[s]){let l=t;t=m(e),t===l?u[t].p(e,s):(I(),B(u[l],1,1,(()=>{u[l]=null})),W(),n=u[t],n?n.p(e,s):(n=u[t]=c[t](e),n.c()),q(n,1),n.m(r.parentNode,r)),32&s&&(a=!localStorage.getItem("is_subsequent_visit")&&e[5]),a?f?(f.p(e,s),32&s&&q(f,1)):(f=Ae(e),f.c(),q(f,1),f.m(o.parentNode,o)):f&&(I(),B(f,1,1,(()=>{f=null})),W())},i(e){s||(q(n),q(f),s=!0)},o(e){B(n),B(f),s=!1},d(e){u[t].d(e),e&&i(r),f&&f.d(e),e&&i(o)}}}function Pe(e,t,n){let r=function(){const e=oe("completed_puzzles",[]);return"string"==typeof e[0]?[]:e}(),o=oe("revealed_words",[]),s=Boolean(localStorage.getItem("turn_is_guess")),a=oe("current_puzzle",ee),l=(i=a,console.log(i),we[i]);var i;let c=p(l.name)?"change":"guess",u=we.slice(0,ee+1),m=!0;function d(e,t){n(3,l=e),n(1,o=[]),n(2,s=!1),n(4,c="guess"),function(e){re("current_puzzle",e.toString())}(t),te(o),ne(s)}function p(e){return r.some((t=>t.title===e))}window.change_puzzle=function(e){d(we[e],e)};return[r,o,s,l,c,m,u,d,p,()=>{n(4,c="stats")},e=>{d(u[u.length-e-1],u.length-e-1)},function(e){c=e,n(4,c)},()=>{n(4,c="change")},()=>{n(4,c="stats")},function(e){r=e,n(0,r)},function(e){m=e,n(5,m)}]}return new class extends Y{constructor(e){super(),U(this,e,Pe,Ee,s,{})}}({target:document.body,props:{}})}();
//# sourceMappingURL=bundle.js.map
