var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function o(e){e.forEach(t)}function r(e){return"function"==typeof e}function l(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function c(e,t){e.appendChild(t)}function a(e,t,n){e.insertBefore(t,n||null)}function s(e){e.parentNode.removeChild(e)}function i(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function u(e){return document.createElement(e)}function f(e){return document.createTextNode(e)}function d(){return f(" ")}function m(){return f("")}function p(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function h(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function g(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function v(e,t){e.value=null==t?"":t}let w;function $(e){w=e}function b(){if(!w)throw new Error("Function called outside component initialization");return w}const _=[],k=[],y=[],x=[],z=Promise.resolve();let S=!1;function C(e){y.push(e)}const N=new Set;let E=0;function I(){const e=w;do{for(;E<_.length;){const e=_[E];E++,$(e),L(e.$$)}for($(null),_.length=0,E=0;k.length;)k.pop()();for(let e=0;e<y.length;e+=1){const t=y[e];N.has(t)||(N.add(t),t())}y.length=0}while(_.length);for(;x.length;)x.pop()();S=!1,N.clear(),$(e)}function L(e){if(null!==e.fragment){e.update(),o(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(C)}}const j=new Set;let O;function T(){O={r:0,c:[],p:O}}function A(){O.r||o(O.c),O=O.p}function J(e,t){e&&e.i&&(j.delete(e),e.i(t))}function D(e,t,n,o){if(e&&e.o){if(j.has(e))return;j.add(e),O.c.push((()=>{j.delete(e),o&&(n&&e.d(1),o())})),e.o(t)}}function M(e,t){const n=t.token={};function o(e,o,r,l){if(t.token!==n)return;t.resolved=l;let c=t.ctx;void 0!==r&&(c=c.slice(),c[r]=l);const a=e&&(t.current=e)(c);let s=!1;t.block&&(t.blocks?t.blocks.forEach(((e,n)=>{n!==o&&e&&(T(),D(e,1,1,(()=>{t.blocks[n]===e&&(t.blocks[n]=null)})),A())})):t.block.d(1),a.c(),J(a,1),a.m(t.mount(),t.anchor),s=!0),t.block=a,t.blocks&&(t.blocks[o]=a),s&&I()}if((r=e)&&"object"==typeof r&&"function"==typeof r.then){const n=b();if(e.then((e=>{$(n),o(t.then,1,t.value,e),$(null)}),(e=>{if($(n),o(t.catch,2,t.error,e),$(null),!t.hasCatch)throw e})),t.current!==t.pending)return o(t.pending,0),!0}else{if(t.current!==t.then)return o(t.then,1,t.value,e),!0;t.resolved=e}var r}function P(e,n,l,c){const{fragment:a,on_mount:s,on_destroy:i,after_update:u}=e.$$;a&&a.m(n,l),c||C((()=>{const n=s.map(t).filter(r);i?i.push(...n):o(n),e.$$.on_mount=[]})),u.forEach(C)}function R(e,t){const n=e.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function W(e,t){-1===e.$$.dirty[0]&&(_.push(e),S||(S=!0,z.then(I)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function q(t,r,l,c,a,i,u,f=[-1]){const d=w;$(t);const m=t.$$={fragment:null,ctx:null,props:i,update:e,not_equal:a,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(r.context||(d?d.$$.context:[])),callbacks:n(),dirty:f,skip_bound:!1,root:r.target||d.$$.root};u&&u(m.root);let p=!1;if(m.ctx=l?l(t,r.props||{},((e,n,...o)=>{const r=o.length?o[0]:n;return m.ctx&&a(m.ctx[e],m.ctx[e]=r)&&(!m.skip_bound&&m.bound[e]&&m.bound[e](r),p&&W(t,e)),n})):[],m.update(),p=!0,o(m.before_update),m.fragment=!!c&&c(m.ctx),r.target){if(r.hydrate){const e=function(e){return Array.from(e.childNodes)}(r.target);m.fragment&&m.fragment.l(e),e.forEach(s)}else m.fragment&&m.fragment.c();r.intro&&J(t.$$.fragment),P(t,r.target,r.anchor,r.customElement),I()}$(d)}class B{$destroy(){R(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const H=["the","to","a","and","in","of","are","or","is","for","be","on","was","with","by","as","at","it","has","an","has","its","from","but","have","that","can","also","this","were","had","which","would","after","year","'s"];function F(e,t,n){const o=e.slice();return o[17]=t[n][0],o[19]=n,o}function G(t){return{c:e,m:e,p:e,d:e}}function V(e){let t,n=e[16],o=[];for(let t=0;t<n.length;t+=1)o[t]=Q(F(e,n,t));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=m()},m(e,n){for(let t=0;t<o.length;t+=1)o[t].m(e,n);a(e,t,n)},p(e,r){if(385&r){let l;for(n=e[16],l=0;l<n.length;l+=1){const c=F(e,n,l);o[l]?o[l].p(c,r):(o[l]=Q(c),o[l].c(),o[l].m(t.parentNode,t))}for(;l<o.length;l+=1)o[l].d(1);o.length=n.length}},d(e){i(o,e),e&&s(t)}}}function Y(e){let t,n,o;function r(){return e[12](e[17])}return{c(){t=u("button"),t.textContent="Reveal\r\n    "},m(e,l){a(e,t,l),n||(o=p(t,"click",r),n=!0)},p(t,n){e=t},d(e){e&&s(t),n=!1,o()}}}function K(e){let t,n,o=e[17]+"";return{c(){t=u("p"),n=f(o)},m(e,o){a(e,t,o),c(t,n)},p(e,t){128&t&&o!==(o=e[17]+"")&&g(n,o)},d(e){e&&s(t)}}}function Q(e){let t,n,o,r,l,i=e[19]+1+"";function p(e,t){return 129&t&&(r=null),null==r&&(r=!!e[0].includes(e[17])),r?K:Y}let h=p(e,-1),g=h(e);return{c(){t=u("p"),n=f(i),o=d(),g.c(),l=m()},m(e,r){a(e,t,r),c(t,n),a(e,o,r),g.m(e,r),a(e,l,r)},p(e,t){h===(h=p(e,t))&&g?g.p(e,t):(g.d(1),g=h(e),g&&(g.c(),g.m(l.parentNode,l)))},d(e){e&&s(t),e&&s(o),g.d(e),e&&s(l)}}}function U(t){let n;return{c(){n=f("Loading...")},m(e,t){a(e,n,t)},p:e,d(e){e&&s(n)}}}function X(e){let t,n,o,r,l,i,m,v,w,$,b,_,k,y,x,z,S,C,N=e[0].length+"";return{c(){t=u("div"),n=u("h1"),n.textContent="Congratulations!",o=d(),r=u("p"),l=u("a"),i=f(e[3]),v=f("\r\n  was the correct answer."),w=d(),$=u("p"),b=f("It took you "),_=f(N),k=f(" reveals to get the answer."),y=d(),x=u("p"),z=u("button"),z.textContent="Close",h(l,"href",m=`https://en.wikipedia.org/wiki/${e[1].name}`),h(l,"target","_blank"),h(t,"class","win")},m(s,u){a(s,t,u),c(t,n),c(t,o),c(t,r),c(r,l),c(l,i),c(r,v),c(t,w),c(t,$),c($,b),c($,_),c($,k),c(t,y),c(t,x),c(x,z),S||(C=p(z,"click",e[13]),S=!0)},p(e,t){8&t&&g(i,e[3]),2&t&&m!==(m=`https://en.wikipedia.org/wiki/${e[1].name}`)&&h(l,"href",m),1&t&&N!==(N=e[0].length+"")&&g(_,N)},d(e){e&&s(t),S=!1,C()}}}function Z(t){let n,r,l,i,w,$,b,_,k,y,x,z,S,C=t[0].length+"",N={ctx:t,current:null,token:null,hasCatch:!1,pending:U,then:V,catch:G,value:16};M(k=t[7],N);let E=t[4]&&X(t);return{c(){n=u("form"),r=u("input"),l=d(),i=u("p"),w=f("Words Revealed: "),$=f(C),b=d(),_=u("div"),N.block.c(),y=d(),E&&E.c(),x=m(),h(r,"type","text"),h(r,"placeholder",t[6]),r.disabled=t[5],h(n,"class","guesser"),h(_,"class","cont")},m(e,o){var s;a(e,n,o),c(n,r),v(r,t[2]),c(n,l),c(n,i),c(i,w),c(i,$),a(e,b,o),a(e,_,o),N.block.m(_,N.anchor=null),N.mount=()=>_,N.anchor=null,a(e,y,o),E&&E.m(e,o),a(e,x,o),z||(S=[p(r,"input",t[11]),p(n,"submit",(s=t[9],function(e){return e.preventDefault(),s.call(this,e)}))],z=!0)},p(e,[n]){t=e,64&n&&h(r,"placeholder",t[6]),32&n&&(r.disabled=t[5]),4&n&&r.value!==t[2]&&v(r,t[2]),1&n&&C!==(C=t[0].length+"")&&g($,C),N.ctx=t,128&n&&k!==(k=t[7])&&M(k,N)||function(e,t,n){const o=t.slice(),{resolved:r}=e;e.current===e.then&&(o[e.value]=r),e.current===e.catch&&(o[e.error]=r),e.block.p(o,n)}(N,t,n),t[4]?E?E.p(t,n):(E=X(t),E.c(),E.m(x.parentNode,x)):E&&(E.d(1),E=null)},i:e,o:e,d(e){e&&s(n),e&&s(b),e&&s(_),N.block.d(),N.token=null,N=null,e&&s(y),E&&E.d(e),e&&s(x),z=!1,o(S)}}}function ee(e,t,n){let o,r,l,{title:c}=t,{revealed_list:a}=t,s="",i="",u=!1,f=!1;async function d(e){console.log("loading",e);const t=await async function(e){const t=`https://en.wikipedia.org/w/api.php?action=query&prop=extracts&titles=${e}&explaintext=1&formatversion=2&exsectionformat=plain&format=json&origin=*`,n=await fetch(t);if(!n.ok)throw Error(n.statusText);return(await n.json()).query.pages[0]}(e);n(3,i=t.title);const o=function(e,t){let n;return t.split(" ").forEach((t=>{const o=new RegExp(t,"g");n=e.replace(o,"")})),n.match(/(\w|')+/g)}(t.extract,i),r=function(e){return e.reduce(((e,t)=>e.set(t.toLowerCase(),(e.get(t.toLowerCase())||0)+1)),new Map)}(o),l=[...r.entries()],a=l.filter((e=>![...c.answers,...c.remove,...H].includes(e[0])));let s;return s=l.length>500?a.slice(0,500):a,s.sort(((e,t)=>t[1]-e[1])),s}function m(e){n(0,a=[...a,e]),localStorage.setItem("revealed_list",JSON.stringify(a)),n(10,f=!0)}function p(){n(4,u=!0),localStorage.removeItem("revealed_list"),localStorage.removeItem("puzzle_number"),function(e){const t=localStorage.getItem("completed_puzzles")||"[]",n=JSON.parse(t);n.push(e.name),localStorage.setItem("completed_puzzles",JSON.stringify(n))}(c)}return e.$$set=e=>{"title"in e&&n(1,c=e.title),"revealed_list"in e&&n(0,a=e.revealed_list)},e.$$.update=()=>{2&e.$$.dirty&&n(7,o=d(c.name)),1024&e.$$.dirty&&n(6,r=f?"Make a Guess":"Reveal a Word"),1024&e.$$.dirty&&n(5,l=!f)},[a,c,s,i,u,l,r,o,m,function(){(s.toLowerCase()===i.toLowerCase()||c.answers.includes(s.toLowerCase()))&&p(),n(2,s=""),n(10,f=!1)},f,function(){s=this.value,n(2,s)},e=>{m(e)},()=>{n(4,u=!1)}]}class te extends B{constructor(e){super(),q(this,e,ee,Z,l,{title:1,revealed_list:0})}}const ne=[{name:"Pet_door",answers:[],remove:[]},{name:"Valencia",answers:[],remove:["val","ncia","c","f","1","2"]},{name:"Adolf_Hitler",answers:[],remove:[]},{name:"Harry_Styles",answers:[],remove:[]},{name:"Donald_Trump",answers:[],remove:[]},{name:"Colorado",answers:[],remove:[]},{name:"Tornado",answers:[],remove:[]},{name:"Nebraska",answers:[],remove:[]},{name:"Yahtzee",answers:["yatzee"],remove:[]},{name:"Joan_of_Arc",answers:[],remove:["joan","joan's"]},{name:"Turtle",answers:[],remove:["turtles","turtle"]},{name:"Ludwig_van_Beethoven",answers:["beethoven"],remove:[]},{name:"Polio",answers:[],remove:["polio","poliovirus"]},{name:"Africa",answers:[],remove:["n","000","1"]},{name:"Whale_shark",answers:[],remove:["whale","s","m"]},{name:"SeaWorld",answers:["sea world"],remove:["sea","world"]},{name:"Chicken",answers:[],remove:["s","chickens","chicken"]},{name:"Jupiter",answers:[],remove:["000"]}];function oe(e){return console.log(e),ne[e]}function re(e,t,n){const o=e.slice();return o[11]=t[n],o[13]=n,o}function le(e){let t,n,o,r,l,c;return o=new te({props:{title:e[1],revealed_list:e[2]}}),{c(){var e;t=u("button"),t.textContent="Change Puzzle",n=d(),(e=o.$$.fragment)&&e.c()},m(s,i){a(s,t,i),a(s,n,i),P(o,s,i),r=!0,l||(c=p(t,"click",e[7]),l=!0)},p(e,t){const n={};2&t&&(n.title=e[1]),4&t&&(n.revealed_list=e[2]),o.$set(n)},i(e){r||(J(o.$$.fragment,e),r=!0)},o(e){D(o.$$.fragment,e),r=!1},d(e){e&&s(t),e&&s(n),R(o,e),l=!1,c()}}}function ce(t){let n,o=t[3],r=[];for(let e=0;e<o.length;e+=1)r[e]=ae(re(t,o,e));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();n=m()},m(e,t){for(let n=0;n<r.length;n+=1)r[n].m(e,t);a(e,n,t)},p(e,t){if(56&t){let l;for(o=e[3],l=0;l<o.length;l+=1){const c=re(e,o,l);r[l]?r[l].p(c,t):(r[l]=ae(c),r[l].c(),r[l].m(n.parentNode,n))}for(;l<r.length;l+=1)r[l].d(1);r.length=o.length}},i:e,o:e,d(e){i(r,e),e&&s(n)}}}function ae(e){let t,n,o,r,l,i=e[3].length-e[13]+"";function m(){return e[6](e[13])}return{c(){t=u("button"),n=f(i),o=d(),function(e,t,n){e.classList[n?"add":"remove"](t)}(t,"completed",e[5](e[3][e[3].length-e[13]-1].name))},m(e,s){a(e,t,s),c(t,n),c(t,o),r||(l=p(t,"click",m),r=!0)},p(t,n){e=t},d(e){e&&s(t),r=!1,l()}}}function se(e){let t,n,o,r;const l=[ce,le],c=[];function i(e,t){return e[0]?0:1}return t=i(e),n=c[t]=l[t](e),{c(){n.c(),o=m()},m(e,n){c[t].m(e,n),a(e,o,n),r=!0},p(e,[r]){let a=t;t=i(e),t===a?c[t].p(e,r):(T(),D(c[a],1,1,(()=>{c[a]=null})),A(),n=c[t],n?n.p(e,r):(n=c[t]=l[t](e),n.c()),J(n,1),n.m(o.parentNode,o))},i(e){r||(J(n),r=!0)},o(e){D(n),r=!1},d(e){c[t].d(e),e&&s(o)}}}function ie(e,t,n){let o=!1;const r=new Date("2022-05-15"),l=Math.floor(((new Date).getTime()-r.getTime())/864e5);let c=oe(Number(localStorage.getItem("puzzle_number")))||oe(l),a=JSON.parse(localStorage.getItem("revealed_list"))||[],s=ne.slice(0,l+1),i=localStorage.getItem("completed_puzzles")?JSON.parse(localStorage.getItem("completed_puzzles")):[];function u(e,t){localStorage.setItem("puzzle_number",t.toString()),localStorage.removeItem("revealed_list"),n(1,c=e),n(2,a=[]),n(0,o=!1)}window.change_puzzle=function(e){u(ne[e],e)};return[o,c,a,s,u,function(e){return i.includes(e)},e=>{u(s[s.length-e-1],s.length-e-1)},()=>{n(0,o=!0)}]}return new class extends B{constructor(e){super(),q(this,e,ie,se,l,{})}}({target:document.body,props:{}})}();
//# sourceMappingURL=bundle.js.map
